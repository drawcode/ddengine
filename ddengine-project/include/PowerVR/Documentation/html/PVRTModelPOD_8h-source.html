<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTModelPOD.h</h1><a href="PVRTModelPOD_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/******************************************************************************</span>
00002 <span class="comment"></span>
00003 <span class="comment"> @File         PVRTModelPOD.h</span>
00004 <span class="comment"></span>
00005 <span class="comment"> @Title        </span>
00006 <span class="comment"></span>
00007 <span class="comment"> @Copyright    Copyright (C)  Imagination Technologies Limited.</span>
00008 <span class="comment"></span>
00009 <span class="comment"> @Platform     ANSI compatible</span>
00010 <span class="comment"></span>
00011 <span class="comment"> @Description  Code to load POD files - models exported from MAX.</span>
00012 <span class="comment"></span>
00013 <span class="comment">******************************************************************************/</span>
00014 <span class="preprocessor">#ifndef _PVRTMODELPOD_H_</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define _PVRTMODELPOD_H_</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "<a class="code" href="PVRTVector_8h.html">PVRTVector.h</a>"</span>
00018 <span class="preprocessor">#include "<a class="code" href="PVRTError_8h.html">PVRTError.h</a>"</span>
00019 
00020 <span class="comment">/****************************************************************************</span>
00021 <span class="comment">** Defines</span>
00022 <span class="comment">****************************************************************************/</span>
<a name="l00023"></a><a class="code" href="PVRTModelPOD_8h.html#a0">00023</a> <span class="preprocessor">#define PVRTMODELPOD_VERSION    ("AB.POD.2.0") </span>
00025 <span class="preprocessor">// PVRTMODELPOD Scene Flags</span>
00026 <span class="preprocessor"></span><span class="preprocessor">#define PVRTMODELPODSF_FIXED    (0x00000001)   </span>
00028 <span class="preprocessor"></span><span class="comment">/****************************************************************************</span>
00029 <span class="comment">** Enumerations</span>
00030 <span class="comment">****************************************************************************/</span>
00031 <span class="comment">/*!****************************************************************************</span>
00032 <span class="comment"> @Struct      EPODLight</span>
00033 <span class="comment"> @Brief       Enum for the POD format light types</span>
00034 <span class="comment">******************************************************************************/</span>
00035 <span class="keyword">enum</span> <a class="code" href="structEPODLight.html">EPODLight</a>
00036 {
<a name="l00037"></a><a class="code" href="PVRTModelPOD_8h.html#a21">00037</a>     <a class="code" href="PVRTModelPOD_8h.html#a21a2">ePODPoint</a>=0,    
00038     <a class="code" href="PVRTModelPOD_8h.html#a21a3">ePODDirectional</a> 
00039 };
00040 
00041 <span class="comment">/*!****************************************************************************</span>
00042 <span class="comment"> @Struct      EPODPrimitiveType</span>
00043 <span class="comment"> @Brief       Enum for the POD format primitive types</span>
00044 <span class="comment">******************************************************************************/</span>
00045 <span class="keyword">enum</span> <a class="code" href="structEPODPrimitiveType.html">EPODPrimitiveType</a>
00046 {
<a name="l00047"></a><a class="code" href="PVRTModelPOD_8h.html#a22">00047</a>     <a class="code" href="PVRTModelPOD_8h.html#a22a4">ePODTriangles</a>=0, 
00048     <a class="code" href="PVRTModelPOD_8h.html#a22a5">ePODLines</a>        
00049 };
00050 
00051 <span class="comment">/*!****************************************************************************</span>
00052 <span class="comment"> @Struct      EPODAnimationData</span>
00053 <span class="comment"> @Brief       Enum for the POD format animation types</span>
00054 <span class="comment">******************************************************************************/</span>
00055 <span class="keyword">enum</span> <a class="code" href="structEPODAnimationData.html">EPODAnimationData</a>
00056 {
<a name="l00057"></a><a class="code" href="PVRTModelPOD_8h.html#a23">00057</a>     <a class="code" href="PVRTModelPOD_8h.html#a23a6">ePODHasPositionAni</a>  = 0x01, 
00058     <a class="code" href="PVRTModelPOD_8h.html#a23a7">ePODHasRotationAni</a>  = 0x02, 
00059     <a class="code" href="PVRTModelPOD_8h.html#a23a8">ePODHasScaleAni</a>     = 0x04, 
00060     <a class="code" href="PVRTModelPOD_8h.html#a23a9">ePODHasMatrixAni</a>    = 0x08  
00061 };
00062 
00063 <span class="comment">/****************************************************************************</span>
00064 <span class="comment">** Structures</span>
00065 <span class="comment">****************************************************************************/</span>
00066 <span class="comment">/*!****************************************************************************</span>
00067 <span class="comment"> @Class      CPODData</span>
00068 <span class="comment"> @Brief      A class for representing POD data</span>
00069 <span class="comment">******************************************************************************/</span>
00070 <span class="keyword">class </span><a class="code" href="classCPODData.html">CPODData</a> {
00071 <span class="keyword">public</span>:
<a name="l00072"></a><a class="code" href="classCPODData.html">00072</a>     <span class="comment">/*!***************************************************************************</span>
00073 <span class="comment">    @Function           Reset</span>
00074 <span class="comment">    @Description        Resets the POD Data to NULL</span>
00075 <span class="comment">    *****************************************************************************/</span>
00076     <span class="keywordtype">void</span> <a class="code" href="classCPODData.html#a0">Reset</a>();
00077 
00078 <span class="keyword">public</span>:
00079     <a class="code" href="PVRTVertex_8h.html#a21">EPVRTDataType</a>   <a class="code" href="classCPODData.html#o0">eType</a>;      
00080     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="classCPODData.html#o1">n</a>;          
00081     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="classCPODData.html#o2">nStride</a>;    
<a name="l00082"></a><a class="code" href="classCPODData.html#o0">00082</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>   *<a class="code" href="classCPODData.html#o3">pData</a>;     
<a name="l00083"></a><a class="code" href="classCPODData.html#o1">00083</a> };
<a name="l00084"></a><a class="code" href="classCPODData.html#o2">00084</a> 
<a name="l00085"></a><a class="code" href="classCPODData.html#o3">00085</a> <span class="comment">/*!****************************************************************************</span>
00086 <span class="comment"> @Struct      SPODCamera</span>
00087 <span class="comment"> @Brief       Struct for storing POD camera data</span>
00088 <span class="comment">******************************************************************************/</span>
00089 <span class="keyword">struct </span><a class="code" href="structSPODCamera.html">SPODCamera</a> {
00090     <span class="keywordtype">int</span>         nIdxTarget;         
00091     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    fFOV;               
<a name="l00092"></a><a class="code" href="structSPODCamera.html">00092</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODCamera.html#o2">fFar</a>;               
<a name="l00093"></a><a class="code" href="structSPODCamera.html#o0">00093</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODCamera.html#o3">fNear</a>;              
<a name="l00094"></a><a class="code" href="structSPODCamera.html#o1">00094</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    *<a class="code" href="structSPODCamera.html#o4">pfAnimFOV</a>;         
<a name="l00095"></a><a class="code" href="structSPODCamera.html#o2">00095</a> };
<a name="l00096"></a><a class="code" href="structSPODCamera.html#o3">00096</a> 
<a name="l00097"></a><a class="code" href="structSPODCamera.html#o4">00097</a> <span class="comment">/*!****************************************************************************</span>
00098 <span class="comment"> @Struct      SPODLight</span>
00099 <span class="comment"> @Brief       Struct for storing POD light data</span>
00100 <span class="comment">******************************************************************************/</span>
00101 <span class="keyword">struct </span><a class="code" href="structSPODLight.html">SPODLight</a> {
00102     <span class="keywordtype">int</span>         <a class="code" href="structSPODLight.html#o0">nIdxTarget</a>;     
00103     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    pfColour[3];    
<a name="l00104"></a><a class="code" href="structSPODLight.html">00104</a>     <a class="code" href="structEPODLight.html">EPODLight</a>   eType;          
<a name="l00105"></a><a class="code" href="structSPODLight.html#o0">00105</a> };
<a name="l00106"></a><a class="code" href="structSPODLight.html#o1">00106</a> 
<a name="l00107"></a><a class="code" href="structSPODLight.html#o2">00107</a> <span class="comment">/*!****************************************************************************</span>
00108 <span class="comment"> @Struct      SPODMesh</span>
00109 <span class="comment"> @Brief       Struct for storing POD mesh data</span>
00110 <span class="comment">******************************************************************************/</span>
00111 <span class="keyword">struct </span><a class="code" href="structSPODMesh.html">SPODMesh</a> {
00112     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        nNumVertex;     
00113     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        nNumFaces;      
<a name="l00114"></a><a class="code" href="structSPODMesh.html">00114</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        <a class="code" href="structSPODMesh.html#o2">nNumUVW</a>;        
<a name="l00115"></a><a class="code" href="structSPODMesh.html#o0">00115</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o3">sFaces</a>;         
<a name="l00116"></a><a class="code" href="structSPODMesh.html#o1">00116</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        *<a class="code" href="structSPODMesh.html#o4">pnStripLength</a>; 
<a name="l00117"></a><a class="code" href="structSPODMesh.html#o2">00117</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>        nNumStrips;     
<a name="l00118"></a><a class="code" href="structSPODMesh.html#o3">00118</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o6">sVertex</a>;        
<a name="l00119"></a><a class="code" href="structSPODMesh.html#o4">00119</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o7">sNormals</a>;       
<a name="l00120"></a><a class="code" href="structSPODMesh.html#o5">00120</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o8">sTangents</a>;      
<a name="l00121"></a><a class="code" href="structSPODMesh.html#o6">00121</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o9">sBinormals</a>;     
<a name="l00122"></a><a class="code" href="structSPODMesh.html#o7">00122</a>     <a class="code" href="classCPODData.html">CPODData</a>            *<a class="code" href="structSPODMesh.html#o10">psUVW</a>;         
<a name="l00123"></a><a class="code" href="structSPODMesh.html#o8">00123</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o11">sVtxColours</a>;    
<a name="l00124"></a><a class="code" href="structSPODMesh.html#o9">00124</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o12">sBoneIdx</a>;       
<a name="l00125"></a><a class="code" href="structSPODMesh.html#o10">00125</a>     <a class="code" href="classCPODData.html">CPODData</a>            <a class="code" href="structSPODMesh.html#o13">sBoneWeight</a>;    
<a name="l00127"></a><a class="code" href="structSPODMesh.html#o12">00127</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>       *<a class="code" href="structSPODMesh.html#o14">pInterleaved</a>;  
00129     <a class="code" href="classCPVRTBoneBatches.html">CPVRTBoneBatches</a>    <a class="code" href="structSPODMesh.html#o15">sBoneBatches</a>;   
00131     <a class="code" href="structEPODPrimitiveType.html">EPODPrimitiveType</a>   <a class="code" href="structSPODMesh.html#o16">ePrimitiveType</a>; 
<a name="l00132"></a><a class="code" href="structSPODMesh.html#o15">00132</a> };
00133 
<a name="l00134"></a><a class="code" href="structSPODMesh.html#o16">00134</a> <span class="comment">/*!****************************************************************************</span>
00135 <span class="comment"> @Struct      SPODNode</span>
00136 <span class="comment"> @Brief       Struct for storing POD node data</span>
00137 <span class="comment">******************************************************************************/</span>
00138 <span class="keyword">struct </span><a class="code" href="structSPODNode.html">SPODNode</a> {
00139     <span class="keywordtype">int</span>          nIdx;              
00140     <span class="keywordtype">char</span>         *pszName;          
<a name="l00141"></a><a class="code" href="structSPODNode.html">00141</a>     <span class="keywordtype">int</span>          <a class="code" href="structSPODNode.html#o2">nIdxMaterial</a>;      
<a name="l00143"></a><a class="code" href="structSPODNode.html#o1">00143</a>     <span class="keywordtype">int</span>          <a class="code" href="structSPODNode.html#o3">nIdxParent</a>;        
00145     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="structSPODNode.html#o4">nAnimFlags</a>;        
<a name="l00146"></a><a class="code" href="structSPODNode.html#o3">00146</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    *<a class="code" href="structSPODNode.html#o5">pfAnimPosition</a>;    
00147     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    *<a class="code" href="structSPODNode.html#o6">pfAnimRotation</a>;    
<a name="l00148"></a><a class="code" href="structSPODNode.html#o4">00148</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    *<a class="code" href="structSPODNode.html#o7">pfAnimScale</a>;       
<a name="l00149"></a><a class="code" href="structSPODNode.html#o5">00149</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    *<a class="code" href="structSPODNode.html#o8">pfAnimMatrix</a>;      
<a name="l00150"></a><a class="code" href="structSPODNode.html#o6">00150</a> };
<a name="l00151"></a><a class="code" href="structSPODNode.html#o7">00151</a> 
<a name="l00152"></a><a class="code" href="structSPODNode.html#o8">00152</a> <span class="comment">/*!****************************************************************************</span>
00153 <span class="comment"> @Struct      SPODTexture</span>
00154 <span class="comment"> @Brief       Struct for storing POD texture data</span>
00155 <span class="comment">******************************************************************************/</span>
00156 <span class="keyword">struct </span><a class="code" href="structSPODTexture.html">SPODTexture</a> {
00157     <span class="keywordtype">char</span>    *<a class="code" href="structSPODTexture.html#o0">pszName</a>;           
00158 };
<a name="l00159"></a><a class="code" href="structSPODTexture.html">00159</a> 
<a name="l00160"></a><a class="code" href="structSPODTexture.html#o0">00160</a> <span class="comment">/*!****************************************************************************</span>
00161 <span class="comment"> @Struct      SPODMaterial</span>
00162 <span class="comment"> @Brief       Struct for storing POD material data</span>
00163 <span class="comment">******************************************************************************/</span>
00164 <span class="keyword">struct </span><a class="code" href="structSPODMaterial.html">SPODMaterial</a> {
00165     <span class="keywordtype">char</span>        *pszName;           
00166     <span class="keywordtype">int</span>         nIdxTexDiffuse;     
<a name="l00167"></a><a class="code" href="structSPODMaterial.html">00167</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODMaterial.html#o2">fMatOpacity</a>;        
<a name="l00168"></a><a class="code" href="structSPODMaterial.html#o0">00168</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODMaterial.html#o3">pfMatAmbient</a>[3];    
<a name="l00169"></a><a class="code" href="structSPODMaterial.html#o1">00169</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODMaterial.html#o4">pfMatDiffuse</a>[3];    
<a name="l00170"></a><a class="code" href="structSPODMaterial.html#o2">00170</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODMaterial.html#o5">pfMatSpecular</a>[3];   
<a name="l00171"></a><a class="code" href="structSPODMaterial.html#o3">00171</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    <a class="code" href="structSPODMaterial.html#o6">fMatShininess</a>;      
<a name="l00172"></a><a class="code" href="structSPODMaterial.html#o4">00172</a>     <span class="keywordtype">char</span>        *<a class="code" href="structSPODMaterial.html#o7">pszEffectFile</a>;     
<a name="l00173"></a><a class="code" href="structSPODMaterial.html#o5">00173</a>     <span class="keywordtype">char</span>        *<a class="code" href="structSPODMaterial.html#o8">pszEffectName</a>;     
<a name="l00174"></a><a class="code" href="structSPODMaterial.html#o6">00174</a> };
<a name="l00175"></a><a class="code" href="structSPODMaterial.html#o7">00175</a> 
<a name="l00176"></a><a class="code" href="structSPODMaterial.html#o8">00176</a> <span class="comment">/*!****************************************************************************</span>
00177 <span class="comment"> @Struct      SPODScene</span>
00178 <span class="comment"> @Brief       Struct for storing POD scene data</span>
00179 <span class="comment">******************************************************************************/</span>
00180 <span class="keyword">struct </span><a class="code" href="structSPODScene.html">SPODScene</a> {
00181     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    pfColourBackground[3];      
00182     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>    pfColourAmbient[3];         
<a name="l00184"></a><a class="code" href="structSPODScene.html#o0">00184</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o2">nNumCamera</a>;             
<a name="l00185"></a><a class="code" href="structSPODScene.html#o1">00185</a>     <a class="code" href="structSPODCamera.html">SPODCamera</a>      *<a class="code" href="structSPODScene.html#o3">pCamera</a>;               
<a name="l00187"></a><a class="code" href="structSPODScene.html#o2">00187</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o4">nNumLight</a>;              
<a name="l00188"></a><a class="code" href="structSPODScene.html#o3">00188</a>     <a class="code" href="structSPODLight.html">SPODLight</a>       *<a class="code" href="structSPODScene.html#o5">pLight</a>;                
<a name="l00190"></a><a class="code" href="structSPODScene.html#o4">00190</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o6">nNumMesh</a>;               
<a name="l00191"></a><a class="code" href="structSPODScene.html#o5">00191</a>     <a class="code" href="structSPODMesh.html">SPODMesh</a>        *<a class="code" href="structSPODScene.html#o7">pMesh</a>;                 
<a name="l00193"></a><a class="code" href="structSPODScene.html#o6">00193</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o8">nNumNode</a>;       
<a name="l00194"></a><a class="code" href="structSPODScene.html#o7">00194</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o9">nNumMeshNode</a>;   
00195     <a class="code" href="structSPODNode.html">SPODNode</a>        *<a class="code" href="structSPODScene.html#o10">pNode</a>;         
<a name="l00197"></a><a class="code" href="structSPODScene.html#o9">00197</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o11">nNumTexture</a>;    
<a name="l00198"></a><a class="code" href="structSPODScene.html#o10">00198</a>     <a class="code" href="structSPODTexture.html">SPODTexture</a>     *<a class="code" href="structSPODScene.html#o12">pTexture</a>;      
<a name="l00200"></a><a class="code" href="structSPODScene.html#o11">00200</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o13">nNumMaterial</a>;   
<a name="l00201"></a><a class="code" href="structSPODScene.html#o12">00201</a>     <a class="code" href="structSPODMaterial.html">SPODMaterial</a>    *<a class="code" href="structSPODScene.html#o14">pMaterial</a>;     
<a name="l00203"></a><a class="code" href="structSPODScene.html#o13">00203</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    <a class="code" href="structSPODScene.html#o15">nNumFrame</a>;      
<a name="l00204"></a><a class="code" href="structSPODScene.html#o14">00204</a>     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    nFlags;         
<a name="l00206"></a><a class="code" href="structSPODScene.html#o15">00206</a>     <span class="keywordtype">bool</span> <a class="code" href="structSPODScene.html#o17">bBigEndian</a>;                
<a name="l00207"></a><a class="code" href="structSPODScene.html#o16">00207</a> };
00208 
<a name="l00209"></a><a class="code" href="structSPODScene.html#o17">00209</a> <span class="keyword">struct </span>SPVRTPODImpl;    <span class="comment">// Internal implementation data</span>
00210 
00211 <span class="comment">/*!***************************************************************************</span>
00212 <span class="comment">@Class CPVRTModelPOD</span>
00213 <span class="comment">@Brief A class for loading and storing data from POD files/headers</span>
00214 <span class="comment">*****************************************************************************/</span>
00215 <span class="keyword">class </span><a class="code" href="classCPVRTModelPOD.html">CPVRTModelPOD</a> : <span class="keyword">public</span> <a class="code" href="structSPODScene.html">SPODScene</a>{
00216 <span class="keyword">public</span>:
00217     <span class="comment">/*!***************************************************************************</span>
<a name="l00218"></a><a class="code" href="classCPVRTModelPOD.html">00218</a> <span class="comment">     @Function      Constructor</span>
00219 <span class="comment">     @Description   Constructor for CPVRTModelPOD class</span>
00220 <span class="comment">    *****************************************************************************/</span>
00221     <a class="code" href="classCPVRTModelPOD.html#a0">CPVRTModelPOD</a>();
00222 
00223     <span class="comment">/*!***************************************************************************</span>
00224 <span class="comment">     @Function      Destructor</span>
00225 <span class="comment">     @Description   Destructor for CPVRTModelPOD class</span>
00226 <span class="comment">    *****************************************************************************/</span>
00227     <a class="code" href="classCPVRTModelPOD.html#a1">~CPVRTModelPOD</a>();
00228 
00229     <span class="comment">/*!***************************************************************************</span>
00230 <span class="comment">     @Function      ReadFromFile</span>
00231 <span class="comment">     @Input         pszFileName     Filename to load</span>
00232 <span class="comment">     @Output        pszExpOpt       String in which to place exporter options</span>
00233 <span class="comment">     @Input         count           Maximum number of characters to store.</span>
00234 <span class="comment">     @Output        pszHistory      String in which to place the pod file history</span>
00235 <span class="comment">     @Input         historyCount    Maximum number of characters to store.</span>
00236 <span class="comment">     @Return        PVR_SUCCESS if successful, PVR_FAIL if not</span>
00237 <span class="comment">     @Description   Loads the specified ".POD" file; returns the scene in</span>
00238 <span class="comment">                    pScene. This structure must later be destroyed with</span>
00239 <span class="comment">                    PVRTModelPODDestroy() to prevent memory leaks.</span>
00240 <span class="comment">                    ".POD" files are exported from 3D Studio MAX using a</span>
00241 <span class="comment">                    PowerVR plugin.</span>
00242 <span class="comment">                    If pszExpOpt is NULL, the scene is loaded; otherwise the</span>
00243 <span class="comment">                    scene is not loaded and pszExpOpt is filled in.</span>
00244 <span class="comment">    *****************************************************************************/</span>
00245     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a2">ReadFromFile</a>(
00246         <span class="keyword">const</span> <span class="keywordtype">char</span>      * <span class="keyword">const</span> pszFileName,
00247         <span class="keywordtype">char</span>            * <span class="keyword">const</span> pszExpOpt = NULL,
00248         <span class="keyword">const</span> size_t    count = 0,
00249         <span class="keywordtype">char</span>            * <span class="keyword">const</span> pszHistory = NULL,
00250         <span class="keyword">const</span> size_t    historyCount = 0);
00251 
00252     <span class="comment">/*!***************************************************************************</span>
00253 <span class="comment">     @Function      ReadFromMemory</span>
00254 <span class="comment">     @Input         scene           Scene data from the header file</span>
00255 <span class="comment">     @Return        PVR_SUCCESS if successful, PVR_FAIL if not</span>
00256 <span class="comment">     @Description   Sets the scene data from the supplied data structure. Use</span>
00257 <span class="comment">                    when loading from .H files.</span>
00258 <span class="comment">    *****************************************************************************/</span>
00259     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a3">ReadFromMemory</a>(
00260         <span class="keyword">const</span> <a class="code" href="structSPODScene.html">SPODScene</a> &amp;scene);
00261 
00262     <span class="comment">/*!***************************************************************************</span>
00263 <span class="comment">     @Function      CopyFromMemory</span>
00264 <span class="comment">     @Input         scene           Scene data from the header file</span>
00265 <span class="comment">     @Return        PVR_SUCCESS if successful, PVR_FAIL if not</span>
00266 <span class="comment">     @Description   Copies the scene data from the supplied data structure. Use</span>
00267 <span class="comment">                    when loading from .H files where you want to modify the data.</span>
00268 <span class="comment">    *****************************************************************************/</span>
00269     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a4">CopyFromMemory</a>(
00270         <span class="keyword">const</span> <a class="code" href="structSPODScene.html">SPODScene</a> &amp;scene);
00271 
00272 <span class="preprocessor">#ifdef WIN32</span>
00273 <span class="preprocessor"></span>    <span class="comment">/*!***************************************************************************</span>
00274 <span class="comment">     @Function      ReadFromResource</span>
00275 <span class="comment">     @Input         pszName         Name of the resource to load from</span>
00276 <span class="comment">     @Return        PVR_SUCCESS if successful, PVR_FAIL if not</span>
00277 <span class="comment">     @Description   Loads the specified ".POD" file; returns the scene in</span>
00278 <span class="comment">                    pScene. This structure must later be destroyed with</span>
00279 <span class="comment">                    PVRTModelPODDestroy() to prevent memory leaks.</span>
00280 <span class="comment">                    ".POD" files are exported from 3D Studio MAX using a</span>
00281 <span class="comment">                    PowerVR plugin.</span>
00282 <span class="comment">    *****************************************************************************/</span>
00283     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> ReadFromResource(
00284         <span class="keyword">const</span> TCHAR * <span class="keyword">const</span> pszName);
00285 <span class="preprocessor">#endif</span>
00286 <span class="preprocessor"></span>
00287     <span class="comment">/*!***********************************************************************</span>
00288 <span class="comment">     @Function      InitImpl</span>
00289 <span class="comment">     @Description   Used by the Read*() fns to initialise implementation</span>
00290 <span class="comment">                    details. Should also be called by applications which</span>
00291 <span class="comment">                    manually build data in the POD structures for rendering;</span>
00292 <span class="comment">                    in this case call it after the data has been created.</span>
00293 <span class="comment">                    Otherwise, do not call this function.</span>
00294 <span class="comment">    *************************************************************************/</span>
00295     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a5">InitImpl</a>();
00296 
00297     <span class="comment">/*!***********************************************************************</span>
00298 <span class="comment">     @Function      DestroyImpl</span>
00299 <span class="comment">     @Description   Used to free memory allocated by the implementation.</span>
00300 <span class="comment">    *************************************************************************/</span>
00301     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a6">DestroyImpl</a>();
00302 
00303     <span class="comment">/*!***********************************************************************</span>
00304 <span class="comment">     @Function      FlushCache</span>
00305 <span class="comment">     @Description   Clears the matrix cache; use this if necessary when you</span>
00306 <span class="comment">                    edit the position or animation of a node.</span>
00307 <span class="comment">    *************************************************************************/</span>
00308     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a7">FlushCache</a>();
00309     <span class="comment">/*!***************************************************************************</span>
00310 <span class="comment">     @Function      Destroy</span>
00311 <span class="comment">     @Description   Frees the memory allocated to store the scene in pScene.</span>
00312 <span class="comment">    *****************************************************************************/</span>
00313     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a8">Destroy</a>();
00314 
00315     <span class="comment">/*!***************************************************************************</span>
00316 <span class="comment">     @Function      SetFrame</span>
00317 <span class="comment">     @Input         fFrame          Frame number</span>
00318 <span class="comment">     @Description   Set the animation frame for which subsequent Get*() calls</span>
00319 <span class="comment">                    should return data.</span>
00320 <span class="comment">    *****************************************************************************/</span>
00321     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a9">SetFrame</a>(
00322         <span class="keyword">const</span> VERTTYPE fFrame);
00323 
00324     <span class="comment">/*!***************************************************************************</span>
00325 <span class="comment">     @Function      GetRotationMatrix</span>
00326 <span class="comment">     @Output        mOut            Rotation matrix</span>
00327 <span class="comment">     @Input         node            Node to get the rotation matrix from</span>
00328 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00329 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00330 <span class="comment">    *****************************************************************************/</span>
00331     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a10">GetRotationMatrix</a>(
00332         <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>      &amp;mOut,
00333         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00334 
00335     <span class="comment">/*!***************************************************************************</span>
00336 <span class="comment">     @Function      GetRotationMatrix</span>
00337 <span class="comment">     @Input         node            Node to get the rotation matrix from</span>
00338 <span class="comment">     @Returns       Rotation matrix</span>
00339 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00340 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00341 <span class="comment">    *****************************************************************************/</span>
00342     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="classCPVRTModelPOD.html#a10">GetRotationMatrix</a>(
00343         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00344 
00345     <span class="comment">/*!***************************************************************************</span>
00346 <span class="comment">     @Function      GetScalingMatrix</span>
00347 <span class="comment">     @Output        mOut            Scaling matrix</span>
00348 <span class="comment">     @Input         node            Node to get the rotation matrix from</span>
00349 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00350 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00351 <span class="comment">    *****************************************************************************/</span>
00352     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a12">GetScalingMatrix</a>(
00353         <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>      &amp;mOut,
00354         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00355 
00356     <span class="comment">/*!***************************************************************************</span>
00357 <span class="comment">     @Function      GetScalingMatrix</span>
00358 <span class="comment">     @Input         node            Node to get the rotation matrix from</span>
00359 <span class="comment">     @Returns       Scaling matrix</span>
00360 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00361 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00362 <span class="comment">    *****************************************************************************/</span>
00363     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="classCPVRTModelPOD.html#a12">GetScalingMatrix</a>(
00364         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00365 
00366     <span class="comment">/*!***************************************************************************</span>
00367 <span class="comment">     @Function      GetTranslation</span>
00368 <span class="comment">     @Output        V               Translation vector</span>
00369 <span class="comment">     @Input         node            Node to get the translation vector from</span>
00370 <span class="comment">     @Description   Generates the translation vector for the given Mesh</span>
00371 <span class="comment">                    Instance. Uses animation data.</span>
00372 <span class="comment">    *****************************************************************************/</span>
00373     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a14">GetTranslation</a>(
00374         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>     &amp;V,
00375         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00376 
00377     <span class="comment">/*!***************************************************************************</span>
00378 <span class="comment">     @Function      GetTranslation</span>
00379 <span class="comment">     @Input         node            Node to get the translation vector from</span>
00380 <span class="comment">      @Returns      Translation vector</span>
00381 <span class="comment">     @Description   Generates the translation vector for the given Mesh</span>
00382 <span class="comment">                    Instance. Uses animation data.</span>
00383 <span class="comment">    *****************************************************************************/</span>
00384     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="classCPVRTModelPOD.html#a14">GetTranslation</a>(
00385         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00386 
00387     <span class="comment">/*!***************************************************************************</span>
00388 <span class="comment">     @Function      GetTranslationMatrix</span>
00389 <span class="comment">     @Output        mOut            Translation matrix</span>
00390 <span class="comment">     @Input         node            Node to get the translation matrix from</span>
00391 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00392 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00393 <span class="comment">    *****************************************************************************/</span>
00394     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a16">GetTranslationMatrix</a>(
00395         <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>      &amp;mOut,
00396         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00397 
00398     <span class="comment">/*!***************************************************************************</span>
00399 <span class="comment">     @Function      GetTranslationMatrix</span>
00400 <span class="comment">     @Input         node            Node to get the translation matrix from</span>
00401 <span class="comment">     @Returns       Translation matrix</span>
00402 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00403 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00404 <span class="comment">    *****************************************************************************/</span>
00405     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="classCPVRTModelPOD.html#a16">GetTranslationMatrix</a>(
00406         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00407 
00408     <span class="comment">/*!***************************************************************************</span>
00409 <span class="comment">     @Function      GetTransformationMatrix</span>
00410 <span class="comment">     @Output        mOut            Transformation matrix</span>
00411 <span class="comment">     @Input         node            Node to get the transformation matrix from</span>
00412 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00413 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00414 <span class="comment">    *****************************************************************************/</span>
00415     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a18">GetTransformationMatrix</a>(<a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a> &amp;mOut, <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a> &amp;node) <span class="keyword">const</span>;
00416 
00417     <span class="comment">/*!***************************************************************************</span>
00418 <span class="comment">     @Function      GetWorldMatrixNoCache</span>
00419 <span class="comment">     @Output        mOut            World matrix</span>
00420 <span class="comment">     @Input         node            Node to get the world matrix from</span>
00421 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00422 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00423 <span class="comment">    *****************************************************************************/</span>
00424     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a19">GetWorldMatrixNoCache</a>(
00425         <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>      &amp;mOut,
00426         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00427 
00428     <span class="comment">/*!***************************************************************************</span>
00429 <span class="comment">    @Function       GetWorldMatrixNoCache</span>
00430 <span class="comment">    @Input          node            Node to get the world matrix from</span>
00431 <span class="comment">    @Returns        World matrix</span>
00432 <span class="comment">    @Description    Generates the world matrix for the given Mesh Instance;</span>
00433 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00434 <span class="comment">    *****************************************************************************/</span>
00435     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="classCPVRTModelPOD.html#a19">GetWorldMatrixNoCache</a>(
00436         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00437 
00438     <span class="comment">/*!***************************************************************************</span>
00439 <span class="comment">     @Function      GetWorldMatrix</span>
00440 <span class="comment">     @Output        mOut            World matrix</span>
00441 <span class="comment">     @Input         node            Node to get the world matrix from</span>
00442 <span class="comment">     @Description   Generates the world matrix for the given Mesh Instance;</span>
00443 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00444 <span class="comment">    *****************************************************************************/</span>
00445     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a21">GetWorldMatrix</a>(
00446         <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>      &amp;mOut,
00447         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;node) <span class="keyword">const</span>;
00448 
00449     <span class="comment">/*!***************************************************************************</span>
00450 <span class="comment">    @Function       GetWorldMatrix</span>
00451 <span class="comment">    @Input          node            Node to get the world matrix from</span>
00452 <span class="comment">    @Returns        World matrix</span>
00453 <span class="comment">    @Description    Generates the world matrix for the given Mesh Instance;</span>
00454 <span class="comment">                    applies the parent's transform too. Uses animation data.</span>
00455 <span class="comment">    *****************************************************************************/</span>
00456     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="classCPVRTModelPOD.html#a21">GetWorldMatrix</a>(<span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>&amp; node) <span class="keyword">const</span>;
00457 
00458     <span class="comment">/*!***************************************************************************</span>
00459 <span class="comment">     @Function      GetBoneWorldMatrix</span>
00460 <span class="comment">     @Output        mOut            Bone world matrix</span>
00461 <span class="comment">     @Input         NodeMesh        Mesh to take the bone matrix from</span>
00462 <span class="comment">     @Input         NodeBone        Bone to take the matrix from</span>
00463 <span class="comment">     @Description   Generates the world matrix for the given bone.</span>
00464 <span class="comment">    *****************************************************************************/</span>
00465     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a23">GetBoneWorldMatrix</a>(
00466         <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>      &amp;mOut,
00467         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;NodeMesh,
00468         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;NodeBone);
00469 
00470     <span class="comment">/*!***************************************************************************</span>
00471 <span class="comment">    @Function       GetBoneWorldMatrix</span>
00472 <span class="comment">    @Input          NodeMesh        Mesh to take the bone matrix from</span>
00473 <span class="comment">    @Input          NodeBone        Bone to take the matrix from</span>
00474 <span class="comment">    @Returns        Bone world matrix</span>
00475 <span class="comment">    @Description    Generates the world matrix for the given bone.</span>
00476 <span class="comment">    *****************************************************************************/</span>
00477     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="classCPVRTModelPOD.html#a23">GetBoneWorldMatrix</a>(
00478         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;NodeMesh,
00479         <span class="keyword">const</span> <a class="code" href="structSPODNode.html">SPODNode</a>  &amp;NodeBone);
00480 
00481     <span class="comment">/*!***************************************************************************</span>
00482 <span class="comment">     @Function      GetCamera</span>
00483 <span class="comment">     @Output        vFrom           Position of the camera</span>
00484 <span class="comment">     @Output        vTo             Target of the camera</span>
00485 <span class="comment">     @Output        vUp             Up direction of the camera</span>
00486 <span class="comment">     @Input         nIdx            Camera number</span>
00487 <span class="comment">     @Return        Camera horizontal FOV</span>
00488 <span class="comment">     @Description   Calculate the From, To and Up vectors for the given</span>
00489 <span class="comment">                    camera. Uses animation data.</span>
00490 <span class="comment">                    Note that even if the camera has a target, *pvTo is not</span>
00491 <span class="comment">                    the position of that target. *pvTo is a position in the</span>
00492 <span class="comment">                    correct direction of the target, one unit away from the</span>
00493 <span class="comment">                    camera.</span>
00494 <span class="comment">    *****************************************************************************/</span>
00495     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="classCPVRTModelPOD.html#a25">GetCamera</a>(
00496         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vFrom,
00497         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vTo,
00498         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vUp,
00499         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  nIdx) <span class="keyword">const</span>;
00500 
00501     <span class="comment">/*!***************************************************************************</span>
00502 <span class="comment">     @Function      GetCameraPos</span>
00503 <span class="comment">     @Output        vFrom           Position of the camera</span>
00504 <span class="comment">     @Output        vTo             Target of the camera</span>
00505 <span class="comment">     @Input         nIdx            Camera number</span>
00506 <span class="comment">     @Return        Camera horizontal FOV</span>
00507 <span class="comment">     @Description   Calculate the position of the camera and its target. Uses</span>
00508 <span class="comment">                    animation data.</span>
00509 <span class="comment">                    If the queried camera does not have a target, *pvTo is</span>
00510 <span class="comment">                    not changed.</span>
00511 <span class="comment">    *****************************************************************************/</span>
00512     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="classCPVRTModelPOD.html#a26">GetCameraPos</a>(
00513         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vFrom,
00514         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vTo,
00515         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  nIdx) <span class="keyword">const</span>;
00516 
00517     <span class="comment">/*!***************************************************************************</span>
00518 <span class="comment">     @Function      GetLight</span>
00519 <span class="comment">     @Output        vPos            Position of the light</span>
00520 <span class="comment">     @Output        vDir            Direction of the light</span>
00521 <span class="comment">     @Input         nIdx            Light number</span>
00522 <span class="comment">     @Description   Calculate the position and direction of the given Light.</span>
00523 <span class="comment">                    Uses animation data.</span>
00524 <span class="comment">    *****************************************************************************/</span>
00525     <span class="keywordtype">void</span> <a class="code" href="classCPVRTModelPOD.html#a27">GetLight</a>(
00526         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vPos,
00527         <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>         &amp;vDir,
00528         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>  nIdx) <span class="keyword">const</span>;
00529 
00530     <span class="comment">/*!***************************************************************************</span>
00531 <span class="comment">     @Function      GetLightPosition</span>
00532 <span class="comment">     @Input         u32Idx          Light number</span>
00533 <span class="comment">     @Return        PVRTVec4 position of light with w set correctly</span>
00534 <span class="comment">     @Description   Calculate the position the given Light. Uses animation data.</span>
00535 <span class="comment">    *****************************************************************************/</span>
00536     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="classCPVRTModelPOD.html#a28">GetLightPosition</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> u32Idx) <span class="keyword">const</span>;
00537 
00538     <span class="comment">/*!***************************************************************************</span>
00539 <span class="comment">    @Function       GetLightDirection</span>
00540 <span class="comment">    @Input          u32Idx          Light number</span>
00541 <span class="comment">    @Return         PVRTVec4 direction of light with w set correctly</span>
00542 <span class="comment">    @Description    Calculate the direction of the given Light. Uses animation data.</span>
00543 <span class="comment">    *****************************************************************************/</span>
00544     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="classCPVRTModelPOD.html#a29">GetLightDirection</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> u32Idx) <span class="keyword">const</span>;
00545 
00546     <span class="comment">/*!***************************************************************************</span>
00547 <span class="comment">     @Function      CreateSkinIdxWeight</span>
00548 <span class="comment">     @Output        pIdx                Four bytes containing matrix indices for vertex (0..255) (D3D: use UBYTE4)</span>
00549 <span class="comment">     @Output        pWeight             Four bytes containing blend weights for vertex (0.0 .. 1.0) (D3D: use D3DCOLOR)</span>
00550 <span class="comment">     @Input         nVertexBones        Number of bones this vertex uses</span>
00551 <span class="comment">     @Input         pnBoneIdx           Pointer to 'nVertexBones' indices</span>
00552 <span class="comment">     @Input         pfBoneWeight        Pointer to 'nVertexBones' blend weights</span>
00553 <span class="comment">     @Description   Creates the matrix indices and blend weights for a boned</span>
00554 <span class="comment">                    vertex. Call once per vertex of a boned mesh.</span>
00555 <span class="comment">    *****************************************************************************/</span>
00556     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a30">CreateSkinIdxWeight</a>(
00557         <span class="keywordtype">char</span>            * <span class="keyword">const</span> pIdx,
00558         <span class="keywordtype">char</span>            * <span class="keyword">const</span> pWeight,
00559         <span class="keyword">const</span> <span class="keywordtype">int</span>       nVertexBones,
00560         <span class="keyword">const</span> <span class="keywordtype">int</span>       * <span class="keyword">const</span> pnBoneIdx,
00561         <span class="keyword">const</span> VERTTYPE  * <span class="keyword">const</span> pfBoneWeight);
00562 
00563     <span class="comment">/*!***************************************************************************</span>
00564 <span class="comment">     @Function      SavePOD</span>
00565 <span class="comment">     @Input         pszFilename     Filename to save to</span>
00566 <span class="comment">     @Input         pszExpOpt       A string containing the options used by the exporter</span>
00567 <span class="comment">     @Input         pszHistory      A string containing the history of the exported pod file</span>
00568 <span class="comment">     @Description   Save a binary POD file (.POD).</span>
00569 <span class="comment">    *****************************************************************************/</span>
00570     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a31">SavePOD</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszFilename, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszExpOpt = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszHistory = 0);
00571 
00572     <span class="comment">/*!***********************************************************************</span>
00573 <span class="comment">     @Function      SaveH</span>
00574 <span class="comment">     @Input         pszFilename     Filename to save to</span>
00575 <span class="comment">     @Input         pszExpOpt       A string containing the options used by the exporter</span>
00576 <span class="comment">     @Input         pszHistory      A string containing the history of the exported pod file</span>
00577 <span class="comment">     @Description   Save a header file (.H).</span>
00578 <span class="comment">    *************************************************************************/</span>
00579     <a class="code" href="PVRTError_8h.html#a4">EPVRTError</a> <a class="code" href="classCPVRTModelPOD.html#a32">SaveH</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszFilename, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszExpOpt = 0, <span class="keyword">const</span> <span class="keywordtype">char</span> * <span class="keyword">const</span> pszHistory = 0);
00580 
00581 <span class="keyword">private</span>:
00582     SPVRTPODImpl    *m_pImpl;   
00583 };
00584 
00585 <span class="comment">/****************************************************************************</span>
00586 <span class="comment">** Declarations</span>
00587 <span class="comment">****************************************************************************/</span>
00588 
00589 <span class="comment">/*!***************************************************************************</span>
00590 <span class="comment"> @Function      PVRTModelPODDataTypeSize</span>
00591 <span class="comment"> @Input         type        Type to get the size of</span>
00592 <span class="comment"> @Return        Size of the data element</span>
00593 <span class="comment"> @Description   Returns the size of each data element.</span>
00594 <span class="comment">*****************************************************************************/</span>
00595 size_t <a class="code" href="PVRTModelPOD_8h.html#a10">PVRTModelPODDataTypeSize</a>(<span class="keyword">const</span> EPVRTDataType type);
00596 
00597 <span class="comment">/*!***************************************************************************</span>
00598 <span class="comment"> @Function      PVRTModelPODDataTypeComponentCount</span>
00599 <span class="comment"> @Input         type        Type to get the number of components from</span>
00600 <span class="comment"> @Return        number of components in the data element</span>
00601 <span class="comment"> @Description   Returns the number of components in a data element.</span>
00602 <span class="comment">*****************************************************************************/</span>
00603 size_t <a class="code" href="PVRTModelPOD_8h.html#a11">PVRTModelPODDataTypeComponentCount</a>(<span class="keyword">const</span> EPVRTDataType type);
00604 
00605 <span class="comment">/*!***************************************************************************</span>
00606 <span class="comment"> @Function      PVRTModelPODDataStride</span>
00607 <span class="comment"> @Input         data        Data elements</span>
00608 <span class="comment"> @Return        Size of the vector elements</span>
00609 <span class="comment"> @Description   Returns the size of the vector of data elements.</span>
00610 <span class="comment">*****************************************************************************/</span>
00611 size_t <a class="code" href="PVRTModelPOD_8h.html#a12">PVRTModelPODDataStride</a>(<span class="keyword">const</span> <a class="code" href="classCPODData.html">CPODData</a> &amp;data);
00612 
00613 <span class="comment">/*!***************************************************************************</span>
00614 <span class="comment"> @Function      PVRTModelPODDataConvert</span>
00615 <span class="comment"> @Modified      data        Data elements to convert</span>
00616 <span class="comment"> @Input         eNewType    New type of elements</span>
00617 <span class="comment"> @Input         nCnt        Number of elements</span>
00618 <span class="comment"> @Description   Convert the format of the array of vectors.</span>
00619 <span class="comment">*****************************************************************************/</span>
00620 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a13">PVRTModelPODDataConvert</a>(<a class="code" href="classCPODData.html">CPODData</a> &amp;data, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nCnt, <span class="keyword">const</span> EPVRTDataType eNewType);
00621 
00622 <span class="comment">/*!***************************************************************************</span>
00623 <span class="comment"> @Function      PVRTModelPODDataShred</span>
00624 <span class="comment"> @Modified      data        Data elements to modify</span>
00625 <span class="comment"> @Input         nCnt        Number of elements</span>
00626 <span class="comment"> @Input         nMask       Channel masks</span>
00627 <span class="comment"> @Description   Reduce the number of dimensions in 'data' using the channel</span>
00628 <span class="comment">                masks in 'nMask'.</span>
00629 <span class="comment">*****************************************************************************/</span>
00630 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a14">PVRTModelPODDataShred</a>(<a class="code" href="classCPODData.html">CPODData</a> &amp;data, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nCnt, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nMask);
00631 
00632 <span class="comment">/*!***************************************************************************</span>
00633 <span class="comment"> @Function      PVRTModelPODToggleInterleaved</span>
00634 <span class="comment"> @Modified      mesh        Mesh to modify</span>
00635 <span class="comment"> @Description   Switches the supplied mesh to or from interleaved data format.</span>
00636 <span class="comment">*****************************************************************************/</span>
00637 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a15">PVRTModelPODToggleInterleaved</a>(<a class="code" href="structSPODMesh.html">SPODMesh</a> &amp;mesh);
00638 
00639 <span class="comment">/*!***************************************************************************</span>
00640 <span class="comment"> @Function      PVRTModelPODDeIndex</span>
00641 <span class="comment"> @Modified      mesh        Mesh to modify</span>
00642 <span class="comment"> @Description   De-indexes the supplied mesh. The mesh must be</span>
00643 <span class="comment">                Interleaved before calling this function.</span>
00644 <span class="comment">*****************************************************************************/</span>
00645 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a16">PVRTModelPODDeIndex</a>(<a class="code" href="structSPODMesh.html">SPODMesh</a> &amp;mesh);
00646 
00647 <span class="comment">/*!***************************************************************************</span>
00648 <span class="comment"> @Function      PVRTModelPODToggleStrips</span>
00649 <span class="comment"> @Modified      mesh        Mesh to modify</span>
00650 <span class="comment"> @Description   Converts the supplied mesh to or from strips.</span>
00651 <span class="comment">*****************************************************************************/</span>
00652 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a17">PVRTModelPODToggleStrips</a>(<a class="code" href="structSPODMesh.html">SPODMesh</a> &amp;mesh);
00653 
00654 <span class="comment">/*!***************************************************************************</span>
00655 <span class="comment"> @Function      PVRTModelPODCountIndices</span>
00656 <span class="comment"> @Input         mesh        Mesh</span>
00657 <span class="comment"> @Return        Number of indices used by mesh</span>
00658 <span class="comment"> @Description   Counts the number of indices of a mesh</span>
00659 <span class="comment">*****************************************************************************/</span>
00660 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="PVRTModelPOD_8h.html#a18">PVRTModelPODCountIndices</a>(<span class="keyword">const</span> <a class="code" href="structSPODMesh.html">SPODMesh</a> &amp;mesh);
00661 
00662 <span class="comment">/*!***************************************************************************</span>
00663 <span class="comment"> @Function      PVRTModelPODToggleFixedPoint</span>
00664 <span class="comment"> @Modified      s       Scene to modify</span>
00665 <span class="comment"> @Description   Switch all non-vertex data between fixed-point and</span>
00666 <span class="comment">                floating-point.</span>
00667 <span class="comment">*****************************************************************************/</span>
00668 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a19">PVRTModelPODToggleFixedPoint</a>(<a class="code" href="structSPODScene.html">SPODScene</a> &amp;s);
00669 
00670 <span class="comment">/*!***************************************************************************</span>
00671 <span class="comment"> @Function      PVRTModelPODToggleEndianness</span>
00672 <span class="comment"> @Modified      scene       Scene to modify</span>
00673 <span class="comment"> @Description   Switch the scene data between big and little endianness</span>
00674 <span class="comment">*****************************************************************************/</span>
00675 <span class="keywordtype">void</span> <a class="code" href="PVRTModelPOD_8h.html#a20">PVRTModelPODToggleEndianness</a>(<a class="code" href="structSPODScene.html">SPODScene</a> &amp;scene);
00676 
00677 <span class="preprocessor">#endif </span><span class="comment">/* _PVRTMODELPOD_H_ */</span>
00678 
00679 <span class="comment">/*****************************************************************************</span>
00680 <span class="comment"> End of file (PVRTModelPOD.h)</span>
00681 <span class="comment">*****************************************************************************/</span>
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A>  
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
