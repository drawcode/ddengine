<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>PowerVR SDK</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<table width="100%">
  <tr>
    <td width="33%">
      <p align="left">&nbsp;<a href="http://www.imgtec.com"><img border="0" src="IMGLogo.jpg" width="200" height="30"></a></p>
    </td>
    <td width="33%">
      <p align="center"><font color="#808080" face="Arial" size="2">PowerVR Software Development Kit</a></font></p>
    </td>
    <td width="34%">
      <p align="right"><a href="http://www.powervr.com"><img border="0" src="PVRlogo.jpg" width="200" height="27"></a></p>
    </td>
  </tr>
</table>
<hr>
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>PVRTVector.h</h1><a href="PVRTVector_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/******************************************************************************</span>
00002 <span class="comment"></span>
00003 <span class="comment"> @File         PVRTVector.h</span>
00004 <span class="comment"></span>
00005 <span class="comment"> @Title        </span>
00006 <span class="comment"></span>
00007 <span class="comment"> @Copyright    Copyright (C)  Imagination Technologies Limited.</span>
00008 <span class="comment"></span>
00009 <span class="comment"> @Platform     ANSI compatible</span>
00010 <span class="comment"></span>
00011 <span class="comment"> @Description  Vector and matrix mathematics library</span>
00012 <span class="comment"></span>
00013 <span class="comment">******************************************************************************/</span>
00014 <span class="preprocessor">#ifndef __PVRTVECTOR_H__</span>
00015 <span class="preprocessor"></span><span class="preprocessor">#define __PVRTVECTOR_H__</span>
00016 <span class="preprocessor"></span>
00017 <span class="preprocessor">#include "assert.h"</span>
00018 <span class="preprocessor">#include "<a class="code" href="PVRTGlobal_8h.html">PVRTGlobal.h</a>"</span>
00019 <span class="preprocessor">#include "<a class="code" href="PVRTFixedPoint_8h.html">PVRTFixedPoint.h</a>"</span>
00020 <span class="preprocessor">#include "<a class="code" href="PVRTMatrix_8h.html">PVRTMatrix.h</a>"</span>
00021 <span class="preprocessor">#include &lt;string.h&gt;</span>
00022 <span class="preprocessor">#include &lt;math.h&gt;</span>
00023 
00024 <span class="comment">/*!***************************************************************************</span>
00025 <span class="comment">** Forward Declarations for vector and matrix structs</span>
00026 <span class="comment">****************************************************************************/</span>
00027 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a>;
00028 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a>;
00029 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a>;
00030 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a>;
00031 
00032 <span class="comment">/*!***************************************************************************</span>
00033 <span class="comment"> @Function          PVRTLinearEqSolve</span>
00034 <span class="comment"> @Input             pSrc    2D array of floats. 4 Eq linear problem is 5x4</span>
00035 <span class="comment">                            matrix, constants in first column</span>
00036 <span class="comment"> @Input             nCnt    Number of equations to solve</span>
00037 <span class="comment"> @Output            pRes    Result</span>
00038 <span class="comment"> @Description       Solves 'nCnt' simultaneous equations of 'nCnt' variables.</span>
00039 <span class="comment">                    pRes should be an array large enough to contain the</span>
00040 <span class="comment">                    results: the values of the 'nCnt' variables.</span>
00041 <span class="comment">                    This fn recursively uses Gaussian Elimination.</span>
00042 <span class="comment">*****************************************************************************/</span>
00043 <span class="keywordtype">void</span> <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(VERTTYPE * <span class="keyword">const</span> pRes, VERTTYPE ** <span class="keyword">const</span> pSrc, <span class="keyword">const</span> <span class="keywordtype">int</span> nCnt);
00044 
00045 <span class="comment">/*!***************************************************************************</span>
00046 <span class="comment">    ** PVRTVec2 2 component vector</span>
00047 <span class="comment">    ****************************************************************************/</span>
00048 <span class="keyword">struct </span><a class="code" href="structPVRTVec2.html">PVRTVec2</a> 
<a name="l00049"></a><a class="code" href="structPVRTVec2.html">00049</a> {
00050     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> x, y;
<a name="l00051"></a><a class="code" href="structPVRTVec2.html#o1">00051</a>     <span class="comment">/*!***************************************************************************</span>
00052 <span class="comment">        ** Constructors</span>
00053 <span class="comment">        ****************************************************************************/</span>
00054     <span class="comment">/*!***************************************************************************</span>
00055 <span class="comment">        @Function           PVRTVec2</span>
00056 <span class="comment">        @Description        Blank constructor.</span>
00057 <span class="comment">        *****************************************************************************/</span>
00058     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>() {}
00059     <span class="comment">/*!***************************************************************************</span>
<a name="l00060"></a><a class="code" href="structPVRTVec2.html#a0">00060</a> <span class="comment">        @Function           PVRTVec2</span>
00061 <span class="comment">        @Input              fX  X component of vector</span>
00062 <span class="comment">        @Input              fY  Y component of vector</span>
00063 <span class="comment">        @Description        Simple constructor from 2 values.</span>
00064 <span class="comment">        *****************************************************************************/</span>
00065     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fX, VERTTYPE fY) : x(fX), y(fY) {}
00066     <span class="comment">/*!***************************************************************************</span>
00067 <span class="comment">        @Function           PVRTVec2</span>
<a name="l00068"></a><a class="code" href="structPVRTVec2.html#a1">00068</a> <span class="comment">        @Input              fValue  a component value</span>
00069 <span class="comment">        @Description        Constructor from a single value.</span>
00070 <span class="comment">        *****************************************************************************/</span>
00071     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(VERTTYPE fValue) : x(fValue), y(fValue) {}
00072     <span class="comment">/*!***************************************************************************</span>
00073 <span class="comment">        @Function           PVRTVec2</span>
00074 <span class="comment">        @Input              pVec    an array</span>
<a name="l00075"></a><a class="code" href="structPVRTVec2.html#a2">00075</a> <span class="comment">        @Description        Constructor from an array</span>
00076 <span class="comment">        *****************************************************************************/</span>
00077     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> VERTTYPE* pVec) : x(pVec[0]), y(pVec[1]) {}
00078     <span class="comment">/*!***************************************************************************</span>
00079 <span class="comment">        @Function           PVRTVec2</span>
00080 <span class="comment">        @Input              v3Vec a Vec3</span>
00081 <span class="comment">        @Description        Constructor from a Vec3</span>
<a name="l00082"></a><a class="code" href="structPVRTVec2.html#a3">00082</a> <span class="comment">        *****************************************************************************/</span>
00083     <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; v3Vec);
00084     <span class="comment">/*!***************************************************************************</span>
00085 <span class="comment">        ** Operators</span>
00086 <span class="comment">        ****************************************************************************/</span>
00087     <span class="comment">/*!***************************************************************************</span>
00088 <span class="comment">        @Function           +</span>
00089 <span class="comment">        @Input              rhs another Vec2</span>
00090 <span class="comment">        @Returns            result of addition</span>
00091 <span class="comment">        @Description        componentwise addition operator for two Vec2s</span>
00092 <span class="comment">        *****************************************************************************/</span>
00093     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00094 <span class="keyword">    </span>{
00095         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00096         <span class="keywordflow">return</span> out += rhs;
00097     }
00098     <span class="comment">/*!***************************************************************************</span>
00099 <span class="comment">        @Function           -</span>
<a name="l00100"></a><a class="code" href="structPVRTVec2.html#a5">00100</a> <span class="comment">        @Input              rhs another Vec2</span>
00101 <span class="comment">        @Returns            result of subtraction</span>
00102 <span class="comment">        @Description        componentwise subtraction operator for two Vec2s</span>
00103 <span class="comment">        ****************************************************************************/</span>
00104     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00105 <span class="keyword">    </span>{
00106         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00107         <span class="keywordflow">return</span> out -= rhs;
00108     }
00109     
00110     <span class="comment">/*!***************************************************************************</span>
00111 <span class="comment">        @Function           +=</span>
<a name="l00112"></a><a class="code" href="structPVRTVec2.html#a6">00112</a> <span class="comment">        @Input              rhs another Vec2</span>
00113 <span class="comment">        @Returns            result of addition</span>
00114 <span class="comment">        @Description        componentwise addition and assignment operator for two Vec2s</span>
00115 <span class="comment">        ****************************************************************************/</span>
00116     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00117     {
00118         x += rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00119         y += rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00120         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00121     }
00122     
00123     <span class="comment">/*!***************************************************************************</span>
00124 <span class="comment">        @Function           -=</span>
<a name="l00125"></a><a class="code" href="structPVRTVec2.html#a7">00125</a> <span class="comment">        @Input              rhs another Vec2</span>
00126 <span class="comment">        @Returns            result of subtraction</span>
00127 <span class="comment">        @Description        componentwise subtraction and assignment operator for two Vec2s</span>
00128 <span class="comment">        ****************************************************************************/</span>
00129     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00130     {
00131         x -= rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>;
00132         y -= rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>;
00133         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00134     }
00135     
00136     <span class="comment">/*!***************************************************************************</span>
00137 <span class="comment">        @Function           -</span>
00138 <span class="comment">        @Input              rhs another Vec2</span>
<a name="l00139"></a><a class="code" href="structPVRTVec2.html#a8">00139</a> <span class="comment">        @Returns            result of negation</span>
00140 <span class="comment">        @Description        negation operator for a Vec2</span>
00141 <span class="comment">        ****************************************************************************/</span>
00142     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a6">operator- </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>, -rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>); }
00143     
00144     <span class="comment">/*!***************************************************************************</span>
00145 <span class="comment">        @Function           *</span>
00146 <span class="comment">        @Input              lhs scalar</span>
00147 <span class="comment">        @Input              rhs a Vec2</span>
00148 <span class="comment">        @Returns            result of negation</span>
00149 <span class="comment">        @Description        negation operator for a Vec2</span>
00150 <span class="comment">        ****************************************************************************/</span>
00151     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00152     {
<a name="l00153"></a><a class="code" href="structPVRTVec2.html#n0">00153</a>         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00154         <span class="keywordflow">return</span> out *= rhs;
00155     }
00156     
00157     <span class="comment">/*!***************************************************************************</span>
00158 <span class="comment">        @Function           /</span>
00159 <span class="comment">        @Input              lhs scalar</span>
00160 <span class="comment">        @Input              rhs a Vec2</span>
00161 <span class="comment">        @Returns            result of division</span>
00162 <span class="comment">        @Description        division operator for scalar and Vec2</span>
<a name="l00163"></a><a class="code" href="structPVRTVec2.html#n1">00163</a> <span class="comment">        ****************************************************************************/</span>
00164     <span class="keyword">friend</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp;  rhs)
00165     {
00166         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(lhs);
00167         <span class="keywordflow">return</span> out /= rhs;
00168     }
00169     
00170     <span class="comment">/*!***************************************************************************</span>
00171 <span class="comment">        @Function           *</span>
00172 <span class="comment">        @Input              rhs a scalar</span>
00173 <span class="comment">        @Returns            result of multiplication</span>
00174 <span class="comment">        @Description        componentwise multiplication by scalar for Vec2</span>
00175 <span class="comment">        ****************************************************************************/</span>
00176     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
<a name="l00177"></a><a class="code" href="structPVRTVec2.html#n2">00177</a> <span class="keyword">    </span>{
00178         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00179         <span class="keywordflow">return</span> out *= rhs;
00180     }
00181     
00182     <span class="comment">/*!***************************************************************************</span>
00183 <span class="comment">        @Function           *=</span>
00184 <span class="comment">        @Input              rhs a scalar</span>
00185 <span class="comment">        @Returns            result of multiplication and assignment</span>
00186 <span class="comment">        @Description        componentwise multiplication and assignment by scalar for Vec2</span>
00187 <span class="comment">        ****************************************************************************/</span>
00188     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00189     {
<a name="l00190"></a><a class="code" href="structPVRTVec2.html#a9">00190</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs);
00191         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs);
00192         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00193     }
00194 
00195     <span class="comment">/*!***************************************************************************</span>
00196 <span class="comment">        @Function           *=</span>
00197 <span class="comment">        @Input              rhs a Vec2</span>
00198 <span class="comment">        @Returns            result of multiplication and assignment</span>
00199 <span class="comment">        @Description        componentwise multiplication and assignment by Vec2 for Vec2</span>
00200 <span class="comment">        ****************************************************************************/</span>
00201     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00202     {
<a name="l00203"></a><a class="code" href="structPVRTVec2.html#a10">00203</a>         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00204         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00205         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00206     }
00207 
00208     <span class="comment">/*!***************************************************************************</span>
00209 <span class="comment">        @Function           /</span>
00210 <span class="comment">        @Input              rhs a scalar</span>
00211 <span class="comment">        @Returns            result of division</span>
00212 <span class="comment">        @Description        componentwise division by scalar for Vec2</span>
00213 <span class="comment">        ****************************************************************************/</span>
00214     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00215 <span class="keyword">    </span>{
00216         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
<a name="l00217"></a><a class="code" href="structPVRTVec2.html#a11">00217</a>         <span class="keywordflow">return</span> out /= rhs;
00218     }
00219     
00220     <span class="comment">/*!***************************************************************************</span>
00221 <span class="comment">        @Function           /=</span>
00222 <span class="comment">        @Input              rhs a scalar</span>
00223 <span class="comment">        @Returns            result of division and assignment</span>
00224 <span class="comment">        @Description        componentwise division and assignment by scalar for Vec2</span>
00225 <span class="comment">        ****************************************************************************/</span>
00226     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00227     {
00228         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, rhs);
00229         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, rhs);
00230         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00231"></a><a class="code" href="structPVRTVec2.html#a12">00231</a>     }
00232     
00233     <span class="comment">/*!***************************************************************************</span>
00234 <span class="comment">        @Function           /=</span>
00235 <span class="comment">        @Input              rhs a Vec2</span>
00236 <span class="comment">        @Returns            result of division and assignment</span>
00237 <span class="comment">        @Description        componentwise division and assignment by Vec2 for Vec2</span>
00238 <span class="comment">        ****************************************************************************/</span>
00239     <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; <a class="code" href="structPVRTVec2.html#a13">operator/=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00240     {
00241         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>);
00242         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00243         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00244"></a><a class="code" href="structPVRTVec2.html#a13">00244</a>     }   
00245 
00246     <span class="comment">/*!***************************************************************************</span>
00247 <span class="comment">    @Function           ==</span>
00248 <span class="comment">    @Input              rhs a single value</span>
00249 <span class="comment">    @Returns            true if the two vectors are equal</span>
00250 <span class="comment">    @Description        PVRTVec2 equality operator</span>
00251 <span class="comment">    ****************************************************************************/</span>
00252     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec2.html#a15">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)<span class="keyword"> const</span>
00253 <span class="keyword">    </span>{
00254         <span class="keywordflow">if</span>(x != rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00255         <span class="keywordflow">if</span>(y != rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00256         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00257     }
<a name="l00258"></a><a class="code" href="structPVRTVec2.html#a14">00258</a> 
00259     <span class="comment">// FUNCTIONS</span>
00260     <span class="comment">/*!***************************************************************************</span>
00261 <span class="comment">        @Function           lenSqr</span>
00262 <span class="comment">        @Returns            the square of the magnitude of the vector</span>
00263 <span class="comment">        @Description        calculates the square of the magnitude of the vector</span>
00264 <span class="comment">        ****************************************************************************/</span>
00265     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a16">lenSqr</a>()<span class="keyword"> const</span>
00266 <span class="keyword">    </span>{
00267         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y);
00268     }
00269     
00270     <span class="comment">/*!***************************************************************************</span>
00271 <span class="comment">        @Function           length</span>
<a name="l00272"></a><a class="code" href="structPVRTVec2.html#a15">00272</a> <span class="comment">        @Returns            the of the magnitude of the vector</span>
00273 <span class="comment">        @Description        calculates the magnitude of the vector</span>
00274 <span class="comment">        ****************************************************************************/</span>
00275     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a17">length</a>()<span class="keyword"> const</span>
00276 <span class="keyword">    </span>{
00277         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)));
00278     }
00279     
00280     <span class="comment">/*!***************************************************************************</span>
00281 <span class="comment">        @Function           normalize</span>
00282 <span class="comment">        @Returns            the normalized value of the vector</span>
00283 <span class="comment">        @Description        normalizes the vector</span>
00284 <span class="comment">        ****************************************************************************/</span>
00285     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a18">normalize</a>()
<a name="l00286"></a><a class="code" href="structPVRTVec2.html#a16">00286</a>     {
00287         <span class="keywordflow">return</span> *<span class="keyword">this</span> /= <a class="code" href="structPVRTVec2.html#a17">length</a>();
00288     }
00289     
00290     <span class="comment">/*!***************************************************************************</span>
00291 <span class="comment">        @Function           normalized</span>
00292 <span class="comment">        @Returns            returns the normalized value of the vector</span>
00293 <span class="comment">        @Description        returns a normalized vector of the same direction as this</span>
00294 <span class="comment">        vector</span>
00295 <span class="comment">        ****************************************************************************/</span>
00296     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a19">normalized</a>()<span class="keyword"> const</span>
<a name="l00297"></a><a class="code" href="structPVRTVec2.html#a17">00297</a> <span class="keyword">    </span>{
00298         <a class="code" href="structPVRTVec2.html">PVRTVec2</a> out(*<span class="keyword">this</span>);
00299         <span class="keywordflow">return</span> out.<a class="code" href="structPVRTVec2.html#a18">normalize</a>();
00300     }
00301 
00302     <span class="comment">/*!***************************************************************************</span>
00303 <span class="comment">        @Function           rotated90</span>
00304 <span class="comment">        @Returns            returns the vector rotated 90°</span>
00305 <span class="comment">        @Description        returns the vector rotated 90°</span>
00306 <span class="comment">        ****************************************************************************/</span>
00307     <a class="code" href="structPVRTVec2.html">PVRTVec2</a> <a class="code" href="structPVRTVec2.html#a20">rotated90</a>()<span class="keyword"> const</span>
<a name="l00308"></a><a class="code" href="structPVRTVec2.html#a18">00308</a> <span class="keyword">    </span>{
00309         <span class="keywordflow">return</span> <a class="code" href="structPVRTVec2.html#a0">PVRTVec2</a>(-y, x);
00310     }
00311 
00312     <span class="comment">/*!***************************************************************************</span>
00313 <span class="comment">        @Function           dot</span>
00314 <span class="comment">        @Input              rhs a single value</span>
00315 <span class="comment">        @Returns            scalar product</span>
00316 <span class="comment">        @Description        calculate the scalar product of two Vec3s</span>
00317 <span class="comment">        ****************************************************************************/</span>
00318     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec2.html#a21">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec2.html">PVRTVec2</a>&amp; rhs)
00319     {
<a name="l00320"></a><a class="code" href="structPVRTVec2.html#a19">00320</a>         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x, rhs.<a class="code" href="structPVRTVec2.html#o0">x</a>) + <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y, rhs.<a class="code" href="structPVRTVec2.html#o1">y</a>);
00321     }
00322             
00323     <span class="comment">/*!***************************************************************************</span>
00324 <span class="comment">        @Function           ptr</span>
00325 <span class="comment">        @Returns            pointer</span>
00326 <span class="comment">        @Description        returns a pointer to memory containing the values of the</span>
00327 <span class="comment">        Vec3</span>
00328 <span class="comment">        ****************************************************************************/</span>
00329     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec2.html#a22">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00330 };
00331 
<a name="l00332"></a><a class="code" href="structPVRTVec2.html#a20">00332</a> <span class="comment">/*!***************************************************************************</span>
00333 <span class="comment">** PVRTVec3 3 component vector</span>
00334 <span class="comment">****************************************************************************/</span>
00335 <span class="keyword">struct </span><a class="code" href="structPVRTVec3.html">PVRTVec3</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR3f.html">PVRTVECTOR3</a>
00336 {
00337 <span class="comment">/*!***************************************************************************</span>
00338 <span class="comment">** Constructors</span>
00339 <span class="comment">****************************************************************************/</span>
00340 <span class="comment">/*!***************************************************************************</span>
00341 <span class="comment"> @Function          PVRTVec3</span>
00342 <span class="comment"> @Description       Blank constructor.</span>
00343 <span class="comment">*****************************************************************************/</span>
<a name="l00344"></a><a class="code" href="structPVRTVec2.html#a21">00344</a>     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(){}
00345 <span class="comment">/*!***************************************************************************</span>
00346 <span class="comment"> @Function          PVRTVec3</span>
00347 <span class="comment"> @Input             fX  X component of vector</span>
00348 <span class="comment"> @Input             fY  Y component of vector</span>
00349 <span class="comment"> @Input             fZ  Z component of vector</span>
00350 <span class="comment"> @Description       Simple constructor from 3 values.</span>
00351 <span class="comment">*****************************************************************************/</span>
00352     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ)
00353     {
00354         x = fX; y = fY; z = fZ;
00355     }
<a name="l00356"></a><a class="code" href="structPVRTVec2.html#a22">00356</a> <span class="comment">/*!***************************************************************************</span>
00357 <span class="comment"> @Function          PVRTVec3</span>
00358 <span class="comment"> @Input             fValue  a component value</span>
00359 <span class="comment"> @Description       Constructor from a single value.</span>
00360 <span class="comment">*****************************************************************************/</span>
00361     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE fValue)
<a name="l00362"></a><a class="code" href="structPVRTVec3.html">00362</a>     {
00363         x = fValue; y = fValue; z = fValue;
00364     }
00365 <span class="comment">/*!***************************************************************************</span>
00366 <span class="comment"> @Function          PVRTVec3</span>
00367 <span class="comment"> @Input             pVec    an array</span>
00368 <span class="comment"> @Description       Constructor from an array</span>
00369 <span class="comment">*****************************************************************************/</span>
00370     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> VERTTYPE* pVec)
00371     {
<a name="l00372"></a><a class="code" href="structPVRTVec3.html#a0">00372</a>         x = (*pVec++); y = (*pVec++); z = *pVec;
00373     }
00374 <span class="comment">/*!***************************************************************************</span>
00375 <span class="comment"> @Function          PVRTVec3</span>
00376 <span class="comment"> @Input             v4Vec a PVRTVec4</span>
00377 <span class="comment"> @Description       Constructor from a PVRTVec4</span>
00378 <span class="comment">*****************************************************************************/</span>
00379     <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; v4Vec);
00380 <span class="comment">/*!***************************************************************************</span>
<a name="l00381"></a><a class="code" href="structPVRTVec3.html#a1">00381</a> <span class="comment">** Operators</span>
00382 <span class="comment">****************************************************************************/</span>
00383 <span class="comment">/*!***************************************************************************</span>
00384 <span class="comment"> @Function          +</span>
00385 <span class="comment"> @Input             rhs another PVRTVec3</span>
00386 <span class="comment"> @Returns           result of addition</span>
00387 <span class="comment"> @Description       componentwise addition operator for two PVRTVec3s</span>
00388 <span class="comment">*****************************************************************************/</span>
00389     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a5">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00390 <span class="keyword">    </span>{
<a name="l00391"></a><a class="code" href="structPVRTVec3.html#a2">00391</a>         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00392         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00393         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00394         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00395         <span class="keywordflow">return</span> out;
00396     }
00397 <span class="comment">/*!***************************************************************************</span>
00398 <span class="comment"> @Function          -</span>
00399 <span class="comment"> @Input             rhs another PVRTVec3</span>
00400 <span class="comment"> @Returns           result of subtraction</span>
<a name="l00401"></a><a class="code" href="structPVRTVec3.html#a3">00401</a> <span class="comment"> @Description       componentwise subtraction operator for two PVRTVec3s</span>
00402 <span class="comment">****************************************************************************/</span>
00403     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00404 <span class="keyword">    </span>{
00405         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00406         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00407         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00408         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00409         <span class="keywordflow">return</span> out;
00410     }
00411 
00412 <span class="comment">/*!***************************************************************************</span>
00413 <span class="comment"> @Function          +=</span>
00414 <span class="comment"> @Input             rhs another PVRTVec3</span>
00415 <span class="comment"> @Returns           result of addition</span>
00416 <span class="comment"> @Description       componentwise addition and assignement operator for two PVRTVec3s</span>
00417 <span class="comment">****************************************************************************/</span>
00418     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a7">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00419     {
00420         x +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00421         y +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
<a name="l00422"></a><a class="code" href="structPVRTVec3.html#a5">00422</a>         z +=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
00423         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00424     }
00425 
00426 <span class="comment">/*!***************************************************************************</span>
00427 <span class="comment"> @Function          -=</span>
00428 <span class="comment"> @Input             rhs another PVRTVec3</span>
00429 <span class="comment"> @Returns           result of subtraction</span>
00430 <span class="comment"> @Description       componentwise subtraction and assignement operator for two PVRTVec3s</span>
00431 <span class="comment">****************************************************************************/</span>
00432     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a8">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00433     {
00434         x -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;
00435         y -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;
00436         z -=rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
<a name="l00437"></a><a class="code" href="structPVRTVec3.html#a6">00437</a>         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00438     }
00439 
00440 <span class="comment">/*!***************************************************************************</span>
00441 <span class="comment"> @Function          -</span>
00442 <span class="comment"> @Input             rhs another PVRTVec3</span>
00443 <span class="comment"> @Returns           result of negation</span>
00444 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00445 <span class="comment">****************************************************************************/</span>
00446     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a6">operator - </a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs) { <span class="keywordflow">return</span> <a class="code" href="structPVRTVec3.html#a0">PVRTVec3</a>(rhs) *= <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1); }
00447 
00448 <span class="comment">/*!***************************************************************************</span>
00449 <span class="comment"> @Function          *</span>
00450 <span class="comment"> @Input             lhs single value</span>
00451 <span class="comment"> @Input             rhs a PVRTVec3</span>
00452 <span class="comment"> @Returns           result of negation</span>
<a name="l00453"></a><a class="code" href="structPVRTVec3.html#a7">00453</a> <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00454 <span class="comment">****************************************************************************/</span>
00455     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00456     {
00457         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00458         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00459         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00460         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00461         <span class="keywordflow">return</span> out;
00462     }
00463 
00464 <span class="comment">/*!***************************************************************************</span>
00465 <span class="comment"> @Function          *</span>
00466 <span class="comment"> @Input             lhs single value</span>
00467 <span class="comment"> @Input             rhs a PVRTVec3</span>
<a name="l00468"></a><a class="code" href="structPVRTVec3.html#a8">00468</a> <span class="comment"> @Returns           result of negation</span>
00469 <span class="comment"> @Description       negation operator for a PVRTVec3</span>
00470 <span class="comment">****************************************************************************/</span>
00471     <span class="keyword">friend</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp;  rhs)
00472     {
00473         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00474         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00475         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00476         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00477         <span class="keywordflow">return</span> out;
00478     }
00479 
00480 <span class="comment">/*!***************************************************************************</span>
00481 <span class="comment"> @Function          *</span>
00482 <span class="comment"> @Input             rhs a PVRTMat3</span>
<a name="l00483"></a><a class="code" href="structPVRTVec3.html#n0">00483</a> <span class="comment"> @Returns           result of multiplication</span>
00484 <span class="comment"> @Description       matrix multiplication operator PVRTVec3 and PVRTMat3</span>
00485 <span class="comment">****************************************************************************/</span>
00486     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs) <span class="keyword">const</span>;
00487 
00488 <span class="comment">/*!***************************************************************************</span>
00489 <span class="comment"> @Function          *=</span>
00490 <span class="comment"> @Input             rhs a PVRTMat3</span>
00491 <span class="comment"> @Returns           result of multiplication and assignment</span>
00492 <span class="comment"> @Description       matrix multiplication and assignment operator for PVRTVec3 and PVRTMat3</span>
<a name="l00493"></a><a class="code" href="structPVRTVec3.html#n1">00493</a> <span class="comment">****************************************************************************/</span>
00494     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs);
00495 
00496 <span class="comment">/*!***************************************************************************</span>
00497 <span class="comment"> @Function          *</span>
00498 <span class="comment"> @Input             rhs a single value</span>
00499 <span class="comment"> @Returns           result of multiplication</span>
00500 <span class="comment"> @Description       componentwise multiplication by single dimension value for PVRTVec3</span>
00501 <span class="comment">****************************************************************************/</span>
00502     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n1">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00503 <span class="keyword">    </span>{
00504         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00505         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00506         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00507         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00508         <span class="keywordflow">return</span> out;
00509     }
<a name="l00510"></a><a class="code" href="structPVRTVec3.html#n2">00510</a> 
00511 <span class="comment">/*!***************************************************************************</span>
00512 <span class="comment"> @Function          *</span>
00513 <span class="comment"> @Input             rhs a single value</span>
00514 <span class="comment"> @Returns           result of multiplication and assignment</span>
00515 <span class="comment"> @Description       componentwise multiplication and assignement by single</span>
00516 <span class="comment">                    dimension value for PVRTVec3</span>
00517 <span class="comment">****************************************************************************/</span>
00518     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00519     {
00520         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00521         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00522         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00523         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00524     }
00525 
00526 <span class="comment">/*!***************************************************************************</span>
00527 <span class="comment"> @Function          /</span>
00528 <span class="comment"> @Input             rhs a single value</span>
00529 <span class="comment"> @Returns           result of division</span>
00530 <span class="comment"> @Description       componentwise division by single</span>
00531 <span class="comment">                    dimension value for PVRTVec3</span>
00532 <span class="comment">****************************************************************************/</span>
00533     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#n2">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00534 <span class="keyword">    </span>{
00535         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00536         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00537         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00538         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00539         <span class="keywordflow">return</span> out;
00540     }
00541 
00542 <span class="comment">/*!***************************************************************************</span>
00543 <span class="comment"> @Function          /=</span>
<a name="l00544"></a><a class="code" href="structPVRTVec3.html#a11">00544</a> <span class="comment"> @Input             rhs a single value</span>
00545 <span class="comment"> @Returns           result of division and assignment</span>
00546 <span class="comment"> @Description       componentwise division and assignement by single</span>
00547 <span class="comment">                    dimension value for PVRTVec3</span>
00548 <span class="comment">****************************************************************************/</span>
00549     <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; <a class="code" href="structPVRTVec3.html#a14">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00550     {
00551         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00552         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00553         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00554         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00555     }
00556 
00557 <span class="comment">/*!***************************************************************************</span>
00558 <span class="comment"> @Function          ==</span>
00559 <span class="comment"> @Input             rhs a single value</span>
00560 <span class="comment"> @Returns           true if the two vectors are equal</span>
<a name="l00561"></a><a class="code" href="structPVRTVec3.html#a12">00561</a> <span class="comment"> @Description       PVRTVec3 equality operator</span>
00562 <span class="comment">****************************************************************************/</span>
00563     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec3.html#a15">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
00564 <span class="keyword">    </span>{
00565         <span class="keywordflow">if</span>(x != rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00566         <span class="keywordflow">if</span>(y != rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00567         <span class="keywordflow">if</span>(z != rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00568         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00569     }
00570 
00571     <span class="comment">// FUNCTIONS</span>
00572 <span class="comment">/*!***************************************************************************</span>
00573 <span class="comment"> @Function          lenSqr</span>
00574 <span class="comment"> @Returns           the square of the magnitude of the vector</span>
00575 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00576 <span class="comment">****************************************************************************/</span>
<a name="l00577"></a><a class="code" href="structPVRTVec3.html#a13">00577</a>     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a16">lenSqr</a>()<span class="keyword"> const</span>
00578 <span class="keyword">    </span>{
00579         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,z);
00580     }
00581 
00582 <span class="comment">/*!***************************************************************************</span>
00583 <span class="comment"> @Function          length</span>
00584 <span class="comment"> @Returns           the of the magnitude of the vector</span>
00585 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00586 <span class="comment">****************************************************************************/</span>
00587     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a17">length</a>()<span class="keyword"> const</span>
00588 <span class="keyword">    </span>{
00589         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)));
00590     }
00591 
00592 <span class="comment">/*!***************************************************************************</span>
00593 <span class="comment"> @Function          normalize</span>
<a name="l00594"></a><a class="code" href="structPVRTVec3.html#a14">00594</a> <span class="comment"> @Returns           the normalized value of the vector</span>
00595 <span class="comment"> @Description       normalizes the vector</span>
00596 <span class="comment">****************************************************************************/</span>
00597     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a18">normalize</a>()
00598     {
00599 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00600 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00601         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(z);
00602         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, n);
00603         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, n);
00604         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z, n);
00605 
00606         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00607         <span class="keywordtype">int</span> f = <a class="code" href="structPVRTVec3.html#a20">dot</a>(*<span class="keyword">this</span>);
00608         f = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTX2F</a>(f))));
<a name="l00609"></a><a class="code" href="structPVRTVec3.html#a15">00609</a> 
00610         <span class="comment">// Multiply vector components by f</span>
00611         x = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(x, f);
00612         y = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(y, f);
00613         z = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(z, f);
00614 <span class="preprocessor">#else</span>
00615 <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a17">length</a>();
00616         x =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00617         y =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00618         z =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00619 <span class="preprocessor">#endif</span>
00620 <span class="preprocessor"></span>        <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00621     }
00622 
00623 <span class="comment">/*!***************************************************************************</span>
<a name="l00624"></a><a class="code" href="structPVRTVec3.html#a16">00624</a> <span class="comment"> @Function          normalized</span>
00625 <span class="comment"> @Returns           returns the normalized value of the vector</span>
00626 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00627 <span class="comment">                    vector</span>
00628 <span class="comment">****************************************************************************/</span>
00629     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a19">normalized</a>()<span class="keyword"> const</span>
00630 <span class="keyword">    </span>{
00631         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00632 <span class="preprocessor">#if defined(PVRT_FIXED_POINT_ENABLE)</span>
00633 <span class="preprocessor"></span>        <span class="comment">// Scale vector by uniform value</span>
00634         <span class="keywordtype">int</span> n = <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a6">PVRTABS</a>(z);
<a name="l00635"></a><a class="code" href="structPVRTVec3.html#a17">00635</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x, n);
00636         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y, n);
00637         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z, n);
00638 
00639         <span class="comment">// Calculate x2+y2+z2/sqrt(x2+y2+z2)</span>
00640         <span class="keywordtype">int</span> f = out.<a class="code" href="structPVRTVec3.html#a20">dot</a>(out);
00641         f = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(1.0f), <a class="code" href="PVRTFixedPoint_8h.html#a2">PVRTF2X</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a3">PVRTX2F</a>(f))));
00642 
00643         <span class="comment">// Multiply vector components by f</span>
00644         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, f);
00645         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, f);
<a name="l00646"></a><a class="code" href="structPVRTVec3.html#a18">00646</a>         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a4">PVRTXMUL</a>(out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>, f);
00647 <span class="preprocessor">#else</span>
00648 <span class="preprocessor"></span>        <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec3.html#a17">length</a>();
00649         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00650         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00651         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00652 <span class="preprocessor">#endif</span>
00653 <span class="preprocessor"></span>        <span class="keywordflow">return</span> out;
00654     }
00655 
00656 <span class="comment">/*!***************************************************************************</span>
00657 <span class="comment"> @Function          dot</span>
00658 <span class="comment"> @Input             rhs a single value</span>
00659 <span class="comment"> @Returns           scalar product</span>
00660 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00661 <span class="comment">****************************************************************************/</span>
00662     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec3.html#a20">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00663     {
00664         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00665     }
00666 
00667 <span class="comment">/*!***************************************************************************</span>
00668 <span class="comment"> @Function          dot</span>
00669 <span class="comment"> @Returns           scalar product</span>
00670 <span class="comment"> @Description       calculate the scalar product of two PVRTVec3s</span>
00671 <span class="comment">****************************************************************************/</span>
00672     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTVec3.html#a21">cross</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)
00673     {
00674         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
00675         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>);
00676         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
00677         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>)-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>);
00678         <span class="keywordflow">return</span> out;
<a name="l00679"></a><a class="code" href="structPVRTVec3.html#a19">00679</a>     }
00680 
00681 <span class="comment">/*!***************************************************************************</span>
00682 <span class="comment"> @Function          ptr</span>
00683 <span class="comment"> @Returns           pointer</span>
00684 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
00685 <span class="comment">                    PVRTVec3</span>
00686 <span class="comment">****************************************************************************/</span>
00687     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec3.html#a22">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
00688 };
00689 
00690 <span class="comment">/*!***************************************************************************</span>
00691 <span class="comment">** PVRTVec4 4 component vector</span>
00692 <span class="comment">****************************************************************************/</span>
00693 <span class="keyword">struct </span><a class="code" href="structPVRTVec4.html">PVRTVec4</a> : <span class="keyword">public</span> <a class="code" href="structPVRTVECTOR4f.html">PVRTVECTOR4</a>
00694 {
00695 <span class="comment">/*!***************************************************************************</span>
00696 <span class="comment">** Constructors</span>
00697 <span class="comment">****************************************************************************/</span>
00698 <span class="comment">/*!***************************************************************************</span>
00699 <span class="comment"> @Function          PVRTVec4</span>
00700 <span class="comment"> @Description       Blank constructor.</span>
00701 <span class="comment">*****************************************************************************/</span>
00702     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(){}
00703 
00704 <span class="comment">/*!***************************************************************************</span>
00705 <span class="comment"> @Function          PVRTVec3</span>
00706 <span class="comment"> @Description       Blank constructor.</span>
00707 <span class="comment">*****************************************************************************/</span>
00708     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE vec)
00709     {
00710         x = vec; y = vec; <a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = vec; <a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = vec;
00711     }
00712 
<a name="l00713"></a><a class="code" href="structPVRTVec3.html#a20">00713</a> <span class="comment">/*!***************************************************************************</span>
00714 <span class="comment"> @Function          multiple value constructor</span>
00715 <span class="comment"> @Input             fX value of x component</span>
00716 <span class="comment"> @Input             fY value of y component</span>
00717 <span class="comment"> @Input             fZ value of z component</span>
00718 <span class="comment"> @Input             fW value of w component</span>
00719 <span class="comment"> @Description       Constructs a PVRTVec4 from 4 separate values</span>
00720 <span class="comment">****************************************************************************/</span>
00721     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, VERTTYPE fY, VERTTYPE fZ, VERTTYPE fW)
00722     {
00723         x = fX; y = fY; z = fZ; w = fW;
<a name="l00724"></a><a class="code" href="structPVRTVec3.html#a21">00724</a>     }
00725 
00726 <span class="comment">/*!***************************************************************************</span>
00727 <span class="comment"> @Function          constructor from PVRTVec3</span>
00728 <span class="comment"> @Input             vec3 a PVRTVec3</span>
00729 <span class="comment"> @Input             fW value of w component</span>
00730 <span class="comment"> @Description       Constructs a PVRTVec4 from a vec3 and a w component</span>
00731 <span class="comment">****************************************************************************/</span>
00732     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3, VERTTYPE fW)
00733     {
00734         x = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>; w = fW;
00735     }
00736 
00737 <span class="comment">/*!***************************************************************************</span>
00738 <span class="comment"> @Function          constructor from PVRTVec3</span>
00739 <span class="comment"> @Input             fX value of x component</span>
<a name="l00740"></a><a class="code" href="structPVRTVec3.html#a22">00740</a> <span class="comment"> @Input             vec3 a PVRTVec3</span>
00741 <span class="comment"> @Description       Constructs a vec4 from a vec3 and a w component</span>
00742 <span class="comment">****************************************************************************/</span>
00743     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(VERTTYPE fX, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vec3)
00744     {
00745         x = fX; y = vec3.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; z = vec3.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; w = vec3.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;
<a name="l00746"></a><a class="code" href="structPVRTVec4.html">00746</a>     }
00747 
00748 <span class="comment">/*!***************************************************************************</span>
00749 <span class="comment"> @Function          constructor from array</span>
00750 <span class="comment"> @Input             pVec a pointer to an array of four values</span>
00751 <span class="comment"> @Description       Constructs a PVRTVec4 from a pointer to an array of four values</span>
00752 <span class="comment">****************************************************************************/</span>
00753     <a class="code" href="structPVRTVec4.html#a0">PVRTVec4</a>(<span class="keyword">const</span> VERTTYPE* pVec)
00754     {
00755         x = (*pVec++); y = (*pVec++); z= (*pVec++); w = *pVec;
<a name="l00756"></a><a class="code" href="structPVRTVec4.html#a0">00756</a>     }
00757 
00758 <span class="comment">/*!***************************************************************************</span>
00759 <span class="comment">** PVRTVec4 Operators</span>
00760 <span class="comment">****************************************************************************/</span>
00761 <span class="comment">/*!***************************************************************************</span>
00762 <span class="comment"> @Function          +</span>
<a name="l00763"></a><a class="code" href="structPVRTVec4.html#a1">00763</a> <span class="comment"> @Input             rhs another PVRTVec4</span>
00764 <span class="comment"> @Returns           result of addition</span>
00765 <span class="comment"> @Description       Addition operator for PVRTVec4</span>
00766 <span class="comment">****************************************************************************/</span>
00767     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00768 <span class="keyword">    </span>{
00769         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00770         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x+rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00771         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y+rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00772         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z+rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00773         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w+rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00774         <span class="keywordflow">return</span> out;
00775     }
00776 
<a name="l00777"></a><a class="code" href="structPVRTVec4.html#a2">00777</a> <span class="comment">/*!***************************************************************************</span>
00778 <span class="comment"> @Function          -</span>
00779 <span class="comment"> @Input             rhs another PVRTVec4</span>
00780 <span class="comment"> @Returns           result of subtraction</span>
00781 <span class="comment"> @Description       Subtraction operator for PVRTVec4</span>
00782 <span class="comment">****************************************************************************/</span>
00783     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00784 <span class="keyword">    </span>{
00785         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00786         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = x-rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00787         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = y-rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00788         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = z-rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
<a name="l00789"></a><a class="code" href="structPVRTVec4.html#a3">00789</a>         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = w-rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00790         <span class="keywordflow">return</span> out;
00791     }
00792 
00793 <span class="comment">/*!***************************************************************************</span>
00794 <span class="comment"> @Function          +=</span>
00795 <span class="comment"> @Input             rhs another PVRTVec4</span>
00796 <span class="comment"> @Returns           result of addition and assignment</span>
00797 <span class="comment"> @Description       Addition and assignment operator for PVRTVec4</span>
00798 <span class="comment">****************************************************************************/</span>
00799     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00800     {
<a name="l00801"></a><a class="code" href="structPVRTVec4.html#a4">00801</a>         x +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00802         y +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00803         z +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00804         w +=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00805         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00806     }
00807 
00808 <span class="comment">/*!***************************************************************************</span>
00809 <span class="comment"> @Function          -=</span>
00810 <span class="comment"> @Input             rhs another PVRTVec4</span>
00811 <span class="comment"> @Returns           result of subtraction and assignment</span>
<a name="l00812"></a><a class="code" href="structPVRTVec4.html#a5">00812</a> <span class="comment"> @Description       Subtraction and assignment operator for PVRTVec4</span>
00813 <span class="comment">****************************************************************************/</span>
00814     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00815     {
00816         x -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>;
00817         y -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>;
00818         z -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>;
00819         w -=rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>;
00820         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00821     }
00822 
00823 <span class="comment">/*!***************************************************************************</span>
00824 <span class="comment"> @Function          *</span>
00825 <span class="comment"> @Input             rhs a PVRTMat4</span>
00826 <span class="comment"> @Returns           result of multiplication</span>
<a name="l00827"></a><a class="code" href="structPVRTVec4.html#a6">00827</a> <span class="comment"> @Description       matrix multiplication for PVRTVec4 and PVRTMat4</span>
00828 <span class="comment">****************************************************************************/</span>
00829     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
00830 
00831 <span class="comment">/*!***************************************************************************</span>
00832 <span class="comment"> @Function          *=</span>
00833 <span class="comment"> @Input             rhs a PVRTMat4</span>
00834 <span class="comment"> @Returns           result of multiplication and assignement</span>
00835 <span class="comment"> @Description       matrix multiplication and assignment for PVRTVec4 and PVRTMat4</span>
00836 <span class="comment">****************************************************************************/</span>
00837     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs);
00838 
00839 <span class="comment">/*!***************************************************************************</span>
00840 <span class="comment"> @Function          *</span>
00841 <span class="comment"> @Input             rhs a single dimension value</span>
00842 <span class="comment"> @Returns           result of multiplication</span>
00843 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by a single value</span>
<a name="l00844"></a><a class="code" href="structPVRTVec4.html#a7">00844</a> <span class="comment">****************************************************************************/</span>
00845     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00846 <span class="keyword">    </span>{
00847         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00848         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00849         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00850         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00851         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs);
00852         <span class="keywordflow">return</span> out;
00853     }
00854 
00855 <span class="comment">/*!***************************************************************************</span>
00856 <span class="comment"> @Function          *=</span>
00857 <span class="comment"> @Input             rhs a single dimension value</span>
00858 <span class="comment"> @Returns           result of multiplication and assignment</span>
00859 <span class="comment"> @Description       componentwise multiplication and assignment of a PVRTVec4 by</span>
00860 <span class="comment">                a single value</span>
<a name="l00861"></a><a class="code" href="structPVRTVec4.html#a8">00861</a> <span class="comment">****************************************************************************/</span>
00862     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00863     {
00864         x = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs);
00865         y = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs);
00866         z = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs);
00867         w = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs);
00868         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00869     }
00870 
00871 <span class="comment">/*!***************************************************************************</span>
00872 <span class="comment"> @Function          /</span>
00873 <span class="comment"> @Input             rhs a single dimension value</span>
00874 <span class="comment"> @Returns           result of division</span>
00875 <span class="comment"> @Description       componentwise division of a PVRTVec4 by a single value</span>
00876 <span class="comment">****************************************************************************/</span>
<a name="l00877"></a><a class="code" href="structPVRTVec4.html#a9">00877</a>     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a14">operator/</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)<span class="keyword"> const</span>
00878 <span class="keyword">    </span>{
00879         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00880         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00881         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00882         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00883         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,rhs);
00884         <span class="keywordflow">return</span> out;
00885     }
00886 
00887 <span class="comment">/*!***************************************************************************</span>
00888 <span class="comment"> @Function          /=</span>
00889 <span class="comment"> @Input             rhs a single dimension value</span>
00890 <span class="comment"> @Returns           result of division and assignment</span>
00891 <span class="comment"> @Description       componentwise division and assignment of a PVRTVec4 by</span>
00892 <span class="comment">                    a single value</span>
00893 <span class="comment">****************************************************************************/</span>
00894     <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; <a class="code" href="structPVRTVec4.html#a15">operator/=</a>(<span class="keyword">const</span> VERTTYPE&amp; rhs)
00895     {
00896         x = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,rhs);
00897         y = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,rhs);
00898         z = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,rhs);
00899         w = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,rhs);
00900         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00901     }
00902 
00903 <span class="comment">/*!***************************************************************************</span>
00904 <span class="comment"> @Function          *</span>
00905 <span class="comment"> @Input             lhs a single dimension value</span>
00906 <span class="comment"> @Input             rhs a PVRTVec4</span>
00907 <span class="comment"> @Returns           result of muliplication</span>
00908 <span class="comment"> @Description       componentwise multiplication of a PVRTVec4 by</span>
00909 <span class="comment">                    a single value</span>
00910 <span class="comment">****************************************************************************/</span>
<a name="l00911"></a><a class="code" href="structPVRTVec4.html#a12">00911</a> <span class="keyword">friend</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a10">operator*</a>(<span class="keyword">const</span> VERTTYPE lhs, <span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp;  rhs)
00912 {
00913     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00914     out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>);
00915     out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>);
00916     out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>);
00917     out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(lhs,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
00918     <span class="keywordflow">return</span> out;
00919 }
00920 
00921 <span class="comment">/*!***************************************************************************</span>
00922 <span class="comment"> @Function          ==</span>
00923 <span class="comment"> @Input             rhs a single value</span>
00924 <span class="comment"> @Returns           true if the two vectors are equal</span>
00925 <span class="comment"> @Description       PVRTVec4 equality operator</span>
00926 <span class="comment">****************************************************************************/</span>
00927     <span class="keywordtype">bool</span> <a class="code" href="structPVRTVec4.html#a16">operator==</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
00928 <span class="keyword">    </span>{
<a name="l00929"></a><a class="code" href="structPVRTVec4.html#a13">00929</a>         <span class="keywordflow">if</span>(x != rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00930         <span class="keywordflow">if</span>(y != rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00931         <span class="keywordflow">if</span>(z != rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00932         <span class="keywordflow">if</span>(w != rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>) <span class="keywordflow">return</span> <span class="keyword">false</span>;
00933         <span class="keywordflow">return</span> <span class="keyword">true</span>;
00934     }
00935 
00936 <span class="comment">/*!***************************************************************************</span>
00937 <span class="comment">** Functions</span>
00938 <span class="comment">****************************************************************************/</span>
00939 <span class="comment">/*!***************************************************************************</span>
00940 <span class="comment"> @Function          lenSqr</span>
00941 <span class="comment"> @Returns           square of the magnitude of the vector</span>
00942 <span class="comment"> @Description       calculates the square of the magnitude of the vector</span>
00943 <span class="comment">****************************************************************************/</span>
00944     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a17">lenSqr</a>()<span class="keyword"> const</span>
<a name="l00945"></a><a class="code" href="structPVRTVec4.html#a14">00945</a> <span class="keyword">    </span>{
00946         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,x)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,y)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,z)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,w);
00947     }
00948 
00949 <span class="comment">/*!***************************************************************************</span>
00950 <span class="comment"> @Function          length</span>
00951 <span class="comment"> @Returns           the magnitude of the vector</span>
00952 <span class="comment"> @Description       calculates the magnitude of the vector</span>
00953 <span class="comment">****************************************************************************/</span>
00954     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a18">length</a>()<span class="keyword"> const</span>
00955 <span class="keyword">    </span>{
00956         <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>) <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(sqrt(<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(x) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(y) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(z) + <a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(w)*<a class="code" href="PVRTFixedPoint_8h.html#a27">vt2f</a>(w)));
00957     }
00958 
00959 <span class="comment">/*!***************************************************************************</span>
00960 <span class="comment"> @Function          normalize</span>
00961 <span class="comment"> @Returns           normalized vector</span>
00962 <span class="comment"> @Description       calculates the normalized value of a PVRTVec4</span>
<a name="l00963"></a><a class="code" href="structPVRTVec4.html#a15">00963</a> <span class="comment">****************************************************************************/</span>
00964     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a19">normalize</a>()
00965     {
00966         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a18">length</a>();
00967         x =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00968         y =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00969         z =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00970         w =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,len);
00971         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
00972     }
00973 <span class="comment">/*!***************************************************************************</span>
00974 <span class="comment"> @Function          normalized</span>
00975 <span class="comment"> @Returns           normalized vector</span>
00976 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00977 <span class="comment">                    vector</span>
00978 <span class="comment">****************************************************************************/</span>
00979     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTVec4.html#a20">normalized</a>()<span class="keyword"> const</span>
00980 <span class="keyword">    </span>{
<a name="l00981"></a><a class="code" href="structPVRTVec4.html#n0">00981</a>         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
00982         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> len = <a class="code" href="structPVRTVec4.html#a18">length</a>();
00983         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(x,len);
00984         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(y,len);
00985         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(z,len);
00986         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> =<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(w,len);
00987         <span class="keywordflow">return</span> out;
00988     }
00989 
00990 <span class="comment">/*!***************************************************************************</span>
00991 <span class="comment"> @Function          dot</span>
00992 <span class="comment"> @Returns           scalar product</span>
00993 <span class="comment"> @Description       returns a normalized vector of the same direction as this</span>
00994 <span class="comment">                    vector</span>
00995 <span class="comment">****************************************************************************/</span>
00996     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTVec4.html#a21">dot</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)
00997     {
<a name="l00998"></a><a class="code" href="structPVRTVec4.html#a16">00998</a>         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(x,rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(y,rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(z,rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>)+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(w,rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>);
00999     }
01000 
01001 <span class="comment">/*!***************************************************************************</span>
01002 <span class="comment"> @Function          ptr</span>
01003 <span class="comment"> @Returns           pointer to vector values</span>
01004 <span class="comment"> @Description       returns a pointer to memory containing the values of the</span>
01005 <span class="comment">                    PVRTVec3</span>
01006 <span class="comment">****************************************************************************/</span>
01007     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTVec4.html#a22">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>*)<span class="keyword">this</span>; }
01008 };
01009 
01010 <span class="comment">/*!***************************************************************************</span>
01011 <span class="comment">** PVRTMat3 3x3 Matrix</span>
01012 <span class="comment">****************************************************************************/</span>
01013 <span class="keyword">struct </span><a class="code" href="structPVRTMat3.html">PVRTMat3</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIX3f.html">PVRTMATRIX3</a>
01014 {
01015 <span class="comment">/*!***************************************************************************</span>
<a name="l01016"></a><a class="code" href="structPVRTVec4.html#a17">01016</a> <span class="comment">** Constructors</span>
01017 <span class="comment">****************************************************************************/</span>
01018 <span class="comment">/*!***************************************************************************</span>
01019 <span class="comment"> @Function          PVRTMat3</span>
01020 <span class="comment"> @Description       Blank constructor.</span>
01021 <span class="comment">*****************************************************************************/</span>
01022     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(){}
01023 <span class="comment">/*!***************************************************************************</span>
01024 <span class="comment"> @Function          PVRTMat3</span>
01025 <span class="comment"> @Input             pMat an array of values for the matrix</span>
01026 <span class="comment"> @Description       Constructor from array.</span>
<a name="l01027"></a><a class="code" href="structPVRTVec4.html#a18">01027</a> <span class="comment">*****************************************************************************/</span>
01028     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> VERTTYPE* pMat)
01029     {
01030         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>* ptr = f;
01031         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01032         {
01033             (*ptr++)=(*pMat++);
01034         }
01035     }
01036 
01037 <span class="comment">/*!***************************************************************************</span>
<a name="l01038"></a><a class="code" href="structPVRTVec4.html#a19">01038</a> <span class="comment"> @Function          PVRTMat3</span>
01039 <span class="comment"> @Input             m0 matrix value</span>
01040 <span class="comment"> @Input             m1 matrix value</span>
01041 <span class="comment"> @Input             m2 matrix value</span>
01042 <span class="comment"> @Input             m3 matrix value</span>
01043 <span class="comment"> @Input             m4 matrix value</span>
01044 <span class="comment"> @Input             m5 matrix value</span>
01045 <span class="comment"> @Input             m6 matrix value</span>
01046 <span class="comment"> @Input             m7 matrix value</span>
01047 <span class="comment"> @Input             m8 matrix value</span>
01048 <span class="comment"> @Description       Constructor from distinct values.</span>
01049 <span class="comment">*****************************************************************************/</span>
01050     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,
01051         VERTTYPE m3,VERTTYPE m4,VERTTYPE m5,
01052         VERTTYPE m6,VERTTYPE m7,VERTTYPE m8)
01053     {
<a name="l01054"></a><a class="code" href="structPVRTVec4.html#a20">01054</a>         f[0]=m0;f[1]=m1;f[2]=m2;
01055         f[3]=m3;f[4]=m4;f[5]=m5;
01056         f[6]=m6;f[7]=m7;f[8]=m8;
01057     }
01058 
01059 <span class="comment">/*!***************************************************************************</span>
01060 <span class="comment"> @Function          PVRTMat3</span>
01061 <span class="comment"> @Input             mat - a PVRTMat4</span>
01062 <span class="comment"> @Description       Constructor from 4x4 matrix - uses top left values</span>
01063 <span class="comment">*****************************************************************************/</span>
01064     <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; mat);
01065 
01066 <span class="comment">/****************************************************************************</span>
01067 <span class="comment">** PVRTMat3 OPERATORS</span>
01068 <span class="comment">****************************************************************************/</span>
01069 <span class="comment">/*!***************************************************************************</span>
01070 <span class="comment"> @Function          ()</span>
01071 <span class="comment"> @Input             r - row of matrix</span>
<a name="l01072"></a><a class="code" href="structPVRTVec4.html#a21">01072</a> <span class="comment"> @Input             c - column of matrix</span>
01073 <span class="comment"> @Returns           value of element</span>
01074 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01075 <span class="comment">                    PVRTMat3</span>
01076 <span class="comment">*****************************************************************************/</span>
01077     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01078     {
01079         <span class="keywordflow">return</span> f[c*3+r];
01080     }
01081 <span class="comment">/*!***************************************************************************</span>
01082 <span class="comment"> @Function          ()</span>
01083 <span class="comment"> @Input             r - row of matrix</span>
<a name="l01084"></a><a class="code" href="structPVRTVec4.html#a22">01084</a> <span class="comment"> @Input             c - column of matrix</span>
01085 <span class="comment"> @Returns           value of element</span>
01086 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01087 <span class="comment">                    PVRTMat3</span>
01088 <span class="comment">*****************************************************************************/</span>
01089     <span class="keyword">const</span> <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat3.html#a4">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
<a name="l01090"></a><a class="code" href="structPVRTMat3.html">01090</a> <span class="keyword">    </span>{
01091         <span class="keywordflow">return</span> f[c*3+r];
01092     }
01093 
01094 <span class="comment">/*!***************************************************************************</span>
01095 <span class="comment"> @Function          *</span>
01096 <span class="comment"> @Input             rhs another PVRTMat3</span>
01097 <span class="comment"> @Returns           result of multiplication</span>
01098 <span class="comment"> @Description       Matrix multiplication of two 3x3 matrices.</span>
01099 <span class="comment">*****************************************************************************/</span>
<a name="l01100"></a><a class="code" href="structPVRTMat3.html#a0">01100</a>     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01101 <span class="keyword">    </span>{
01102         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01103         <span class="comment">// col 1</span>
01104         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01105         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01106         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
<a name="l01107"></a><a class="code" href="structPVRTMat3.html#a1">01107</a> 
01108         <span class="comment">// col 2</span>
01109         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01110         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01111         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01112 
01113         <span class="comment">// col3</span>
01114         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01115         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01116         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01117         <span class="keywordflow">return</span> out;
01118     }
01119 
01120 <span class="comment">/*!***************************************************************************</span>
01121 <span class="comment"> @Function          +</span>
01122 <span class="comment"> @Input             rhs another PVRTMat3</span>
01123 <span class="comment"> @Returns           result of addition</span>
01124 <span class="comment"> @Description       element by element addition operator.</span>
01125 <span class="comment">*****************************************************************************/</span>
01126     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a7">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01127 <span class="keyword">    </span>{
01128         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01129         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
<a name="l01130"></a><a class="code" href="structPVRTMat3.html#a2">01130</a>         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01131         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01132         {
01133             (*outptr++) = (*lptr++) + (*rptr++);
01134         }
01135         <span class="keywordflow">return</span> out;
01136     }
01137 
01138 <span class="comment">/*!***************************************************************************</span>
01139 <span class="comment"> @Function          -</span>
01140 <span class="comment"> @Input             rhs another PVRTMat3</span>
01141 <span class="comment"> @Returns           result of subtraction</span>
01142 <span class="comment"> @Description       element by element subtraction operator.</span>
01143 <span class="comment">*****************************************************************************/</span>
01144     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a8">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)<span class="keyword"> const</span>
01145 <span class="keyword">    </span>{
01146         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01147         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01148         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01149         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01150         {
01151             (*outptr++) = (*lptr++) - (*rptr++);
01152         }
01153         <span class="keywordflow">return</span> out;
01154     }
01155 
01156 <span class="comment">/*!***************************************************************************</span>
01157 <span class="comment"> @Function          +=</span>
01158 <span class="comment"> @Input             rhs another PVRTMat3</span>
<a name="l01159"></a><a class="code" href="structPVRTMat3.html#a4">01159</a> <span class="comment"> @Returns           result of addition and assignment</span>
01160 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01161 <span class="comment">*****************************************************************************/</span>
01162     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a9">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01163     {
01164         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *lptr = f;
01165         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01166         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
01167         {
01168             (*lptr++) += (*rptr++);
01169         }
01170         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01171     }
<a name="l01172"></a><a class="code" href="structPVRTMat3.html#a5">01172</a> 
01173 <span class="comment">/*!***************************************************************************</span>
01174 <span class="comment"> @Function          -=</span>
01175 <span class="comment"> @Input             rhs another PVRTMat3</span>
01176 <span class="comment"> @Returns           result of subtraction and assignment</span>
01177 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01178 <span class="comment">*****************************************************************************/</span>
01179     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a10">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01180     {
01181         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *lptr = f;
01182         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>;
01183         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;9;i++)
<a name="l01184"></a><a class="code" href="structPVRTMat3.html#a6">01184</a>         {
01185             (*lptr++) -= (*rptr++);
01186         }
01187         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01188     }
01189 
01190 <span class="comment">/*!***************************************************************************</span>
01191 <span class="comment"> @Function          *=</span>
01192 <span class="comment"> @Input             rhs another PVRTMat3</span>
01193 <span class="comment"> @Returns           result of multiplication and assignment</span>
01194 <span class="comment"> @Description       Matrix multiplication and assignment of two 3x3 matrices.</span>
01195 <span class="comment">*****************************************************************************/</span>
01196     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; rhs)
01197     {
01198         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01199         <span class="comment">// col 1</span>
01200         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01201         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01202         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2]);
01203 
01204         <span class="comment">// col 2</span>
01205         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01206         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01207         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5]);
01208 
01209         <span class="comment">// col3</span>
01210         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
<a name="l01211"></a><a class="code" href="structPVRTMat3.html#a7">01211</a>         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01212         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8]);
01213         *<span class="keyword">this</span> = out;
01214         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01215     }
01216 
01217 <span class="comment">/*!***************************************************************************</span>
01218 <span class="comment"> @Function          *</span>
01219 <span class="comment"> @Input             rhs a single value</span>
01220 <span class="comment"> @Returns           result of multiplication and assignment</span>
01221 <span class="comment"> @Description       element multiplication by a single value.</span>
01222 <span class="comment">*****************************************************************************/</span>
01223     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01224     {
01225         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01226         {
01227             f[i]*=rhs;
01228         }
01229         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l01230"></a><a class="code" href="structPVRTMat3.html#a8">01230</a>     }
01231 <span class="comment">/*!***************************************************************************</span>
01232 <span class="comment"> @Function          *=</span>
01233 <span class="comment"> @Input             rhs a single value</span>
01234 <span class="comment"> @Returns           result of multiplication and assignment</span>
01235 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01236 <span class="comment">*****************************************************************************/</span>
01237     <a class="code" href="structPVRTMat3.html">PVRTMat3</a>&amp; <a class="code" href="structPVRTMat3.html#a11">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01238     {
01239         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;9; ++i)
01240         {
01241             f[i]*=rhs;
01242         }
01243         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01244     }
01245 
01246 <span class="comment">/*!***************************************************************************</span>
01247 <span class="comment"> @Function          *</span>
01248 <span class="comment"> @Input             rhs another PVRTVec3</span>
<a name="l01249"></a><a class="code" href="structPVRTMat3.html#a9">01249</a> <span class="comment"> @Returns           result of multiplication</span>
01250 <span class="comment"> @Description       Matrix multiplication of 3x3 matrix and vec3</span>
01251 <span class="comment">*****************************************************************************/</span>
01252     <a class="code" href="structPVRTVec3.html">PVRTVec3</a> <a class="code" href="structPVRTMat3.html#a6">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; rhs)<span class="keyword"> const</span>
01253 <span class="keyword">    </span>{
01254         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> out;
01255         out.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[6]);
01256         out.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[7]);
01257         out.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>,f[8]);
01258 
01259         <span class="keywordflow">return</span> out;
01260     }
01261 
01262 
01263     <span class="comment">// FUNCTIONS</span>
01264 <span class="comment">/*!***************************************************************************</span>
01265 <span class="comment">** Functions</span>
01266 <span class="comment">*****************************************************************************/</span>
<a name="l01267"></a><a class="code" href="structPVRTMat3.html#a10">01267</a> <span class="comment">/*!***************************************************************************</span>
01268 <span class="comment"> @Function          determinant</span>
01269 <span class="comment"> @Returns           result of multiplication</span>
01270 <span class="comment"> @Description       Matrix multiplication and assignment of 3x3 matrix and vec3</span>
01271 <span class="comment">*****************************************************************************/</span>
01272     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <a class="code" href="structPVRTMat3.html#a15">determinant</a>()<span class="keyword"> const</span>
01273 <span class="keyword">    </span>{
01274         <span class="keywordflow">return</span> <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],f[5])))
01275             - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[8])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],f[2])))
01276             + <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[5])-<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[2])));
01277     }
01278 
01279 <span class="comment">/*!***************************************************************************</span>
01280 <span class="comment"> @Function          inverse</span>
01281 <span class="comment"> @Returns           inverse mat3</span>
01282 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01283 <span class="comment">*****************************************************************************/</span>
01284     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a16">inverse</a>()<span class="keyword"> const</span>
<a name="l01285"></a><a class="code" href="structPVRTMat3.html#a11">01285</a> <span class="keyword">    </span>{
01286         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01287 
01288 
01289         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> recDet = <a class="code" href="structPVRTMat3.html#a15">determinant</a>();
01290         <a class="code" href="PVRTGlobal_8h.html#a9">_ASSERT</a>(recDet!=0);
01291         recDet = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1.0f),recDet);
01292 
01293         <span class="comment">//TODO: deal with singular matrices with more than just an assert</span>
01294 
01295         <span class="comment">// inverse is 1/det * adjoint of M</span>
01296 
01297         <span class="comment">// adjoint is transpose of cofactor matrix</span>
01298 
01299         <span class="comment">// do transpose and cofactors in one step</span>
01300 
01301         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],f[7]);
01302         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[8]);
01303         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[5]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[4]);
01304 
01305         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],f[8]);
01306         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[8]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[6]);
01307         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],f[3]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[5]);
01308 
01309         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],f[7]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],f[6]);
01310         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[6]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[7]);
01311         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],f[4]) - <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],f[3]);
01312 
<a name="l01313"></a><a class="code" href="structPVRTMat3.html#a12">01313</a>         out *= recDet;
01314         <span class="keywordflow">return</span> out;
01315     }
01316 
01317 <span class="comment">/*!***************************************************************************</span>
01318 <span class="comment"> @Function          transpose</span>
01319 <span class="comment"> @Returns           transpose 3x3 matrix</span>
01320 <span class="comment"> @Description       Calculates the transpose of this matrix</span>
01321 <span class="comment">*****************************************************************************/</span>
01322     <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#a17">transpose</a>()<span class="keyword"> const</span>
01323 <span class="keyword">    </span>{
01324         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01325         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = f[0];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = f[1];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = f[2];
01326         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = f[3];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = f[4];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = f[5];
01327         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = f[6];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = f[7];    out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = f[8];
<a name="l01328"></a><a class="code" href="structPVRTMat3.html#a13">01328</a>         <span class="keywordflow">return</span> out;
01329     }
01330 
01331 <span class="comment">/*!***************************************************************************</span>
01332 <span class="comment"> @Function          ptr</span>
01333 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat3</span>
01334 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01335 <span class="comment">*****************************************************************************/</span>
01336     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat3.html#a18">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01337 
01338 <span class="comment">/*!***************************************************************************</span>
01339 <span class="comment">** Static factory functions</span>
01340 <span class="comment">*****************************************************************************/</span>
01341 <span class="comment">/*!***************************************************************************</span>
01342 <span class="comment"> @Function          Identity</span>
01343 <span class="comment"> @Returns           a PVRTMat3 representation of the 3x3 identity matrix</span>
<a name="l01344"></a><a class="code" href="structPVRTMat3.html#a14">01344</a> <span class="comment"> @Description       Generates an identity matrix</span>
01345 <span class="comment">*****************************************************************************/</span>
01346     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e0">Identity</a>()
01347     {
01348         <a class="code" href="structPVRTMat3.html">PVRTMat3</a> out;
01349         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[0] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[2] = 0;
01350         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[3] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[4] = 1;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[5] = 0;
01351         out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[7] = 0;out.<a class="code" href="classPVRTMATRIX3f.html#o0">f</a>[8] = 1;
01352         <span class="keywordflow">return</span> out;
01353     }
01354 
01355 <span class="comment">/*!***************************************************************************</span>
01356 <span class="comment"> @Function          RotationX</span>
01357 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01358 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01359 <span class="comment">                    degrees about the X axis</span>
01360 <span class="comment">*****************************************************************************/</span>
01361     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e1">RotationX</a>(VERTTYPE angle);
01362 
01363 <span class="comment">/*!***************************************************************************</span>
01364 <span class="comment"> @Function          RotationY</span>
<a name="l01365"></a><a class="code" href="structPVRTMat3.html#a15">01365</a> <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01366 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01367 <span class="comment">                    degrees about the Y axis</span>
01368 <span class="comment">*****************************************************************************/</span>
01369     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e2">RotationY</a>(VERTTYPE angle);
01370 
01371 <span class="comment">/*!***************************************************************************</span>
01372 <span class="comment"> @Function          RotationZ</span>
01373 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01374 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01375 <span class="comment">                    degrees about the Z axis</span>
01376 <span class="comment">*****************************************************************************/</span>
01377     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e3">RotationZ</a>(VERTTYPE angle);
<a name="l01378"></a><a class="code" href="structPVRTMat3.html#a16">01378</a> 
01379 <span class="comment">/*!***************************************************************************</span>
01380 <span class="comment"> @Function          Scale</span>
01381 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01382 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
01383 <span class="comment">                    times in each axis.</span>
01384 <span class="comment">*****************************************************************************/</span>
01385     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01386     {
01387         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>(fx,0,0,
01388             0,fy,0,
01389             0,0,fz);
01390     }
01391 
01392 
01393 <span class="comment">/*!***************************************************************************</span>
01394 <span class="comment"> @Function          Translation</span>
01395 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested translation</span>
01396 <span class="comment"> @Description       Calculates a matrix corresponding to a transformation</span>
01397 <span class="comment">                    of tx and ty times in each axis.</span>
01398 <span class="comment">*****************************************************************************/</span>
01399     <span class="keyword">static</span> <a class="code" href="structPVRTMat3.html">PVRTMat3</a> <a class="code" href="structPVRTMat3.html#e5">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty)
01400     {
01401         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat3.html#a0">PVRTMat3</a>( <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),    0,  0,
01402             0,    <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),  0,
01403             tx,  ty,  <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01404     }
01405 
01406 };
01407 
01408 <span class="comment">/*!***************************************************************************</span>
01409 <span class="comment">** PVRTMat4 4x4 Matrix</span>
01410 <span class="comment">****************************************************************************/</span>
01411 <span class="keyword">struct </span><a class="code" href="structPVRTMat4.html">PVRTMat4</a> : <span class="keyword">public</span> <a class="code" href="classPVRTMATRIXf.html">PVRTMATRIX</a>
01412 {
01413 <span class="comment">/*!***************************************************************************</span>
01414 <span class="comment">** Constructors</span>
01415 <span class="comment">****************************************************************************/</span>
01416 <span class="comment">/*!***************************************************************************</span>
<a name="l01417"></a><a class="code" href="structPVRTMat3.html#a17">01417</a> <span class="comment"> @Function          PVRTMat4</span>
01418 <span class="comment"> @Description       Blank constructor.</span>
01419 <span class="comment">*****************************************************************************/</span>
01420     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(){}
01421 <span class="comment">/*!***************************************************************************</span>
01422 <span class="comment"> @Function          PVRTMat4</span>
01423 <span class="comment"> @Input             m0 matrix value</span>
01424 <span class="comment"> @Input             m1 matrix value</span>
01425 <span class="comment"> @Input             m2 matrix value</span>
01426 <span class="comment"> @Input             m3 matrix value</span>
01427 <span class="comment"> @Input             m4 matrix value</span>
01428 <span class="comment"> @Input             m5 matrix value</span>
01429 <span class="comment"> @Input             m6 matrix value</span>
01430 <span class="comment"> @Input             m7 matrix value</span>
01431 <span class="comment"> @Input             m8 matrix value</span>
<a name="l01432"></a><a class="code" href="structPVRTMat3.html#a18">01432</a> <span class="comment"> @Input             m9 matrix value</span>
01433 <span class="comment"> @Input             m10 matrix value</span>
01434 <span class="comment"> @Input             m11 matrix value</span>
01435 <span class="comment"> @Input             m12 matrix value</span>
01436 <span class="comment"> @Input             m13 matrix value</span>
01437 <span class="comment"> @Input             m14 matrix value</span>
01438 <span class="comment"> @Input             m15 matrix value</span>
01439 <span class="comment"> @Description       Constructor from array.</span>
01440 <span class="comment">*****************************************************************************/</span>
01441     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(VERTTYPE m0,VERTTYPE m1,VERTTYPE m2,VERTTYPE m3,
01442         VERTTYPE m4,VERTTYPE m5,VERTTYPE m6,VERTTYPE m7,
<a name="l01443"></a><a class="code" href="structPVRTMat3.html#e0">01443</a>         VERTTYPE m8,VERTTYPE m9,VERTTYPE m10,VERTTYPE m11,
01444         VERTTYPE m12,VERTTYPE m13,VERTTYPE m14,VERTTYPE m15)
01445     {
01446         f[0]=m0;f[1]=m1;f[2]=m2;f[3]=m3;
01447         f[4]=m4;f[5]=m5;f[6]=m6;f[7]=m7;
01448         f[8]=m8;f[9]=m9;f[10]=m10;f[11]=m11;
01449         f[12]=m12;f[13]=m13;f[14]=m14;f[15]=m15;
01450     }
01451 <span class="comment">/*!***************************************************************************</span>
01452 <span class="comment"> @Function          PVRTMat4</span>
01453 <span class="comment"> @Input             mat A pointer to an array of 16 VERTTYPEs</span>
01454 <span class="comment"> @Description       Constructor from distinct values.</span>
01455 <span class="comment">*****************************************************************************/</span>
01456     <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<span class="keyword">const</span> VERTTYPE* mat)
01457     {
01458         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>* ptr = f;
01459         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01460         {
01461             (*ptr++)=(*mat++);
01462         }
01463     }
01464 
01465 <span class="comment">/****************************************************************************</span>
01466 <span class="comment">** PVRTMat4 OPERATORS</span>
01467 <span class="comment">****************************************************************************/</span>
01468 <span class="comment">/*!***************************************************************************</span>
01469 <span class="comment"> @Function          ()</span>
01470 <span class="comment"> @Input             r - row of matrix</span>
01471 <span class="comment"> @Input             c - column of matrix</span>
01472 <span class="comment"> @Returns           value of element</span>
01473 <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01474 <span class="comment">                    PVRTMat4</span>
01475 <span class="comment">*****************************************************************************/</span>
01476     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)
01477     {
01478         <span class="keywordflow">return</span> f[c*4+r];
01479     }
01480 
01481 <span class="comment">/*!***************************************************************************</span>
01482 <span class="comment"> @Function          ()</span>
01483 <span class="comment"> @Input             r - row of matrix</span>
01484 <span class="comment"> @Input             c - column of matrix</span>
01485 <span class="comment"> @Returns           value of element</span>
<a name="l01486"></a><a class="code" href="structPVRTMat3.html#e4">01486</a> <span class="comment"> @Description       Returns value of the element at row r and colun c of the</span>
01487 <span class="comment">                    PVRTMat4</span>
01488 <span class="comment">*****************************************************************************/</span>
01489     <span class="keyword">const</span> <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>&amp; <a class="code" href="structPVRTMat4.html#a3">operator()</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> r, <span class="keyword">const</span> <span class="keywordtype">int</span> c)<span class="keyword"> const</span>
01490 <span class="keyword">    </span>{
01491         <span class="keywordflow">return</span> f[c*4+r];
01492     }
01493 
01494 <span class="comment">/*!***************************************************************************</span>
01495 <span class="comment"> @Function          *</span>
01496 <span class="comment"> @Input             rhs another PVRTMat4</span>
01497 <span class="comment"> @Returns           result of multiplication</span>
01498 <span class="comment"> @Description       Matrix multiplication of two 4x4 matrices.</span>
01499 <span class="comment">*****************************************************************************/</span>
01500     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs) <span class="keyword">const</span>;
<a name="l01501"></a><a class="code" href="structPVRTMat3.html#e5">01501</a> 
01502 <span class="comment">/*!***************************************************************************</span>
01503 <span class="comment"> @Function          +</span>
01504 <span class="comment"> @Input             rhs another PVRTMat4</span>
01505 <span class="comment"> @Returns           result of addition</span>
01506 <span class="comment"> @Description       element by element addition operator.</span>
01507 <span class="comment">*****************************************************************************/</span>
01508     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a6">operator+</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01509 <span class="keyword">    </span>{
01510         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01511         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *lptr = f, *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01512         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *outptr = out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
<a name="l01513"></a><a class="code" href="structPVRTMat4.html">01513</a>         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01514         {
01515             (*outptr++) = (*lptr++) + (*rptr++);
01516         }
01517         <span class="keywordflow">return</span> out;
01518     }
01519 
01520 <span class="comment">/*!***************************************************************************</span>
01521 <span class="comment"> @Function          -</span>
01522 <span class="comment"> @Input             rhs another PVRTMat4</span>
<a name="l01523"></a><a class="code" href="structPVRTMat4.html#a0">01523</a> <span class="comment"> @Returns           result of subtraction</span>
01524 <span class="comment"> @Description       element by element subtraction operator.</span>
01525 <span class="comment">*****************************************************************************/</span>
01526     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a7">operator-</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)<span class="keyword"> const</span>
01527 <span class="keyword">    </span>{
01528         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01529         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01530         {
01531             out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i] = f[i]-rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01532         }
01533         <span class="keywordflow">return</span> out;
01534     }
01535 
01536 <span class="comment">/*!***************************************************************************</span>
01537 <span class="comment"> @Function          +=</span>
01538 <span class="comment"> @Input             rhs another PVRTMat4</span>
01539 <span class="comment"> @Returns           result of addition and assignment</span>
01540 <span class="comment"> @Description       element by element addition and assignment operator.</span>
01541 <span class="comment">*****************************************************************************/</span>
01542     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a8">operator+=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01543     {
01544         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *lptr = f;
<a name="l01545"></a><a class="code" href="structPVRTMat4.html#a1">01545</a>         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01546         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01547         {
01548             (*lptr++) += (*rptr++);
01549         }
01550         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01551     }
01552 
01553 <span class="comment">/*!***************************************************************************</span>
01554 <span class="comment"> @Function          -=</span>
01555 <span class="comment"> @Input             rhs another PVRTMat4</span>
01556 <span class="comment"> @Returns           result of subtraction and assignment</span>
01557 <span class="comment"> @Description       element by element subtraction and assignment operator.</span>
01558 <span class="comment">*****************************************************************************/</span>
01559     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a9">operator-=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01560     {
<a name="l01561"></a><a class="code" href="structPVRTMat4.html#a2">01561</a>         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *lptr = f;
01562         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> <span class="keyword">const</span> *rptr = rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>;
01563         <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i=0;i&lt;16;i++)
01564         {
01565             (*lptr++) -= (*rptr++);
01566         }
01567         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01568     }
01569 
01570 
01571 <span class="comment">/*!***************************************************************************</span>
01572 <span class="comment"> @Function          *=</span>
01573 <span class="comment"> @Input             rhs another PVRTMat4</span>
01574 <span class="comment"> @Returns           result of multiplication and assignment</span>
01575 <span class="comment"> @Description       Matrix multiplication and assignment of two 4x4 matrices.</span>
01576 <span class="comment">*****************************************************************************/</span>
01577     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01578     {
01579         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
01580         <span class="comment">// col 0</span>
01581         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
<a name="l01582"></a><a class="code" href="structPVRTMat4.html#a3">01582</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01583         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01584         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]);
01585 
01586         <span class="comment">// col 1</span>
01587         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01588         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01589         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01590         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]);
01591 
01592         <span class="comment">// col 2</span>
01593         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01594         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] =   <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01595         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
<a name="l01596"></a><a class="code" href="structPVRTMat4.html#a4">01596</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]);
01597 
01598         <span class="comment">// col 3</span>
01599         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[0],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[4],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[8],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[12],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01600         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[1],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[5],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[9],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[13],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01601         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[2],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[6],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[10],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[14],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01602         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] =  <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]);
01603 
01604         *<span class="keyword">this</span> = result;
01605         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01606     }
01607 
01608 <span class="comment">/*!***************************************************************************</span>
01609 <span class="comment"> @Function          *</span>
01610 <span class="comment"> @Input             rhs a single value</span>
01611 <span class="comment"> @Returns           result of multiplication and assignment</span>
01612 <span class="comment"> @Description       element multiplication by a single value.</span>
01613 <span class="comment">*****************************************************************************/</span>
01614     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> VERTTYPE rhs)
01615     {
01616         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
<a name="l01617"></a><a class="code" href="structPVRTMat4.html#a6">01617</a>         {
01618             f[i]*=rhs;
01619         }
01620         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01621     }
01622 <span class="comment">/*!***************************************************************************</span>
01623 <span class="comment"> @Function          *=</span>
01624 <span class="comment"> @Input             rhs a single value</span>
01625 <span class="comment"> @Returns           result of multiplication and assignment</span>
01626 <span class="comment"> @Description       element multiplication and assignment by a single value.</span>
01627 <span class="comment">*****************************************************************************/</span>
01628     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> VERTTYPE rhs)
01629     {
01630         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01631         {
01632             f[i]*=rhs;
01633         }
01634         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01635     }
<a name="l01636"></a><a class="code" href="structPVRTMat4.html#a7">01636</a> 
01637 <span class="comment">/*!***************************************************************************</span>
01638 <span class="comment"> @Function          =</span>
01639 <span class="comment"> @Input             rhs another PVRTMat4</span>
01640 <span class="comment"> @Returns           result of assignment</span>
01641 <span class="comment"> @Description       element assignment operator.</span>
01642 <span class="comment">*****************************************************************************/</span>
01643     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a13">operator=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; rhs)
01644     {
01645         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;16; ++i)
01646         {
01647             f[i] =rhs.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i];
01648         }
01649         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01650     }
01651 <span class="comment">/*!***************************************************************************</span>
01652 <span class="comment"> @Function          *</span>
<a name="l01653"></a><a class="code" href="structPVRTMat4.html#a8">01653</a> <span class="comment"> @Input             rhs a PVRTVec4</span>
01654 <span class="comment"> @Returns           result of multiplication</span>
01655 <span class="comment"> @Description       Matrix multiplication of 4x4 matrix and vec3</span>
01656 <span class="comment">*****************************************************************************/</span>
01657     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a5">operator*</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01658 <span class="keyword">    </span>{
01659         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01660         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01661         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01662         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01663         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01664 
01665         <span class="keywordflow">return</span> out;
01666     }
01667 
01668 <span class="comment">/*!***************************************************************************</span>
01669 <span class="comment"> @Function          *=</span>
01670 <span class="comment"> @Input             rhs a PVRTVec4</span>
<a name="l01671"></a><a class="code" href="structPVRTMat4.html#a9">01671</a> <span class="comment"> @Returns           result of multiplication and assignment</span>
01672 <span class="comment"> @Description       Matrix multiplication and assignment of 4x4 matrix and vec3</span>
01673 <span class="comment">*****************************************************************************/</span>
01674     <a class="code" href="structPVRTVec4.html">PVRTVec4</a> <a class="code" href="structPVRTMat4.html#a10">operator*=</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec4.html">PVRTVec4</a>&amp; rhs)<span class="keyword"> const</span>
01675 <span class="keyword">    </span>{
01676         <a class="code" href="structPVRTVec4.html">PVRTVec4</a> out;
01677         out.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[8])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[12]);
01678         out.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[9])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[13]);
01679         out.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[10])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[14]);
01680         out.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a> = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o0">x</a>,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o1">y</a>,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o2">z</a>,f[11])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(rhs.<a class="code" href="structPVRTVECTOR4f.html#o3">w</a>,f[15]);
01681 
01682         <span class="keywordflow">return</span> out;
01683     }
01684 
01685 <span class="comment">/*!***************************************************************************</span>
01686 <span class="comment"> @Function          inverse</span>
01687 <span class="comment"> @Returns           inverse mat4</span>
01688 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01689 <span class="comment">                    The matrix must be of the form :</span>
<a name="l01690"></a><a class="code" href="structPVRTMat4.html#a10">01690</a> <span class="comment">                    A 0</span>
01691 <span class="comment">                    C 1</span>
01692 <span class="comment">                    Where A is a 3x3 matrix and C is a 1x3 matrix.</span>
01693 <span class="comment">*****************************************************************************/</span>
01694     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a16">inverse</a>() <span class="keyword">const</span>;
01695 
01696 <span class="comment">/*!***************************************************************************</span>
01697 <span class="comment"> @Function          inverseEx</span>
01698 <span class="comment"> @Returns           inverse mat4</span>
01699 <span class="comment"> @Description       Calculates multiplicative inverse of this matrix</span>
01700 <span class="comment">                    Uses a linear equation solver and the knowledge that M.M^-1=I.</span>
01701 <span class="comment">                    Use this fn to calculate the inverse of matrices that</span>
01702 <span class="comment">                    inverse() cannot.</span>
01703 <span class="comment">*****************************************************************************/</span>
01704     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a17">inverseEx</a>()<span class="keyword"> const</span>
01705 <span class="keyword">    </span>{
01706         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01707         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>        *ppRows[4];
01708         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>        pRes[4];
01709         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>        pIn[20];
01710         <span class="keywordtype">int</span>             i, j;
01711 
01712         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01713             ppRows[i] = &amp;pIn[i * 5];
01714 
01715         <span class="comment">/* Solve 4 sets of 4 linear equations */</span>
01716         <span class="keywordflow">for</span>(i = 0; i &lt; 4; ++i)
01717         {
01718             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01719             {
01720                 ppRows[j][0] = <a class="code" href="structPVRTMat4.html#e0">PVRTMat4::Identity</a>().<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j];
01721                 memcpy(&amp;ppRows[j][1], &amp;f[j * 4], 4 * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>));
01722             }
01723 
01724             <a class="code" href="PVRTVector_8h.html#a0">PVRTLinearEqSolve</a>(pRes, (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>**)ppRows, 4);
01725 
01726             <span class="keywordflow">for</span>(j = 0; j &lt; 4; ++j)
01727             {
<a name="l01728"></a><a class="code" href="structPVRTMat4.html#a11">01728</a>                 out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[i + 4 * j] = pRes[j];
01729             }
01730         }
01731 
01732         <span class="keywordflow">return</span> out;
01733     }
01734 
01735 <span class="comment">/*!***************************************************************************</span>
01736 <span class="comment"> @Function          transpose</span>
01737 <span class="comment"> @Returns           transpose mat4</span>
01738 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01739 <span class="comment">*****************************************************************************/</span>
01740     <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#a18">transpose</a>()<span class="keyword"> const</span>
01741 <span class="keyword">    </span>{
01742         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
<a name="l01743"></a><a class="code" href="structPVRTMat4.html#a12">01743</a>         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = f[0];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = f[4];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = f[8];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = f[12];
01744         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = f[1];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = f[5];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = f[9];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = f[13];
01745         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = f[2];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = f[6];        out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = f[10];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = f[14];
01746         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = f[3];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = f[7];       out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = f[11];      out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = f[15];
01747         <span class="keywordflow">return</span> out;
01748     }
01749 
01750 <span class="comment">/*!***************************************************************************</span>
01751 <span class="comment"> @Function          postTranslate</span>
01752 <span class="comment"> @Input             tx distance of translation in x axis</span>
01753 <span class="comment"> @Input             ty distance of translation in y axis</span>
01754 <span class="comment"> @Input             tz distance of translation in z axis</span>
01755 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01756 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01757 <span class="comment">*****************************************************************************/</span>
01758     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
<a name="l01759"></a><a class="code" href="structPVRTMat4.html#a13">01759</a>     {
01760         f[12] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[0])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[4])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[8]);
01761         f[13] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[1])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[5])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[9]);
01762         f[14] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[2])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[6])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[10]);
01763         f[15] += <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tx,f[3])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(ty,f[7])+<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(tz,f[11]);
01764 
01765 <span class="comment">//          col(3) += tx * col(0) + ty * col(1) + tz * col(2);</span>
01766         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01767     }
01768 
01769 <span class="comment">/*!***************************************************************************</span>
01770 <span class="comment"> @Function          postTranslate</span>
01771 <span class="comment"> @Input             tvec translation vector</span>
01772 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01773 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
<a name="l01774"></a><a class="code" href="structPVRTMat4.html#a14">01774</a> <span class="comment">*****************************************************************************/</span>
01775     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01776     {
01777         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01778     }
01779 
01780 <span class="comment">/*!***************************************************************************</span>
01781 <span class="comment"> @Function          postTranslate</span>
01782 <span class="comment"> @Input             tx distance of translation in x axis</span>
01783 <span class="comment"> @Input             ty distance of translation in y axis</span>
01784 <span class="comment"> @Input             tz distance of translation in z axis</span>
01785 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01786 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01787 <span class="comment">*****************************************************************************/</span>
01788     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(VERTTYPE tx, VERTTYPE ty, VERTTYPE tz)
01789     {
01790         f[0]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],tx); f[4]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],tx); f[8]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],tx);    f[12]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],tx);
01791         f[1]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],ty); f[5]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],ty); f[9]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],ty);    f[13]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],ty);
<a name="l01792"></a><a class="code" href="structPVRTMat4.html#a15">01792</a>         f[2]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[3],tz); f[6]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[7],tz); f[10]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[11],tz);   f[14]+=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(f[15],tz);
01793 
01794 <span class="comment">//          row(0) += tx * row(3);</span>
01795 <span class="comment">//          row(1) += ty * row(3);</span>
01796 <span class="comment">//          row(2) += tz * row(3);</span>
01797         <span class="keywordflow">return</span> *<span class="keyword">this</span>;
01798     }
01799 
01800 <span class="comment">/*!***************************************************************************</span>
01801 <span class="comment"> @Function          postTranslate</span>
01802 <span class="comment"> @Input             tvec translation vector</span>
01803 <span class="comment"> @Returns           Returns the translation defined by the passed parameters</span>
01804 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01805 <span class="comment">*****************************************************************************/</span>
01806     <a class="code" href="structPVRTMat4.html">PVRTMat4</a>&amp; <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; tvec)
01807     {
01808         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a21">preTranslate</a>(tvec.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>, tvec.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>);
01809     }
01810 <span class="comment">/*!***************************************************************************</span>
01811 <span class="comment"> @Function          ptr</span>
01812 <span class="comment"> @Returns           pointer to an array of the elements of this PVRTMat4</span>
01813 <span class="comment"> @Description       Calculates transpose of this matrix</span>
01814 <span class="comment">*****************************************************************************/</span>
01815     <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> *<a class="code" href="structPVRTMat4.html#a23">ptr</a>() { <span class="keywordflow">return</span> (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>*)&amp;f; }
01816 
01817 <span class="comment">/*!***************************************************************************</span>
01818 <span class="comment">** Static factory functions</span>
01819 <span class="comment">*****************************************************************************/</span>
01820 <span class="comment">/*!***************************************************************************</span>
01821 <span class="comment"> @Function          Identity</span>
01822 <span class="comment"> @Returns           a PVRTMat4 representation of the 4x4 identity matrix</span>
01823 <span class="comment"> @Description       Generates an identity matrix</span>
<a name="l01824"></a><a class="code" href="structPVRTMat4.html#a17">01824</a> <span class="comment">*****************************************************************************/</span>
01825     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e0">Identity</a>()
01826     {
01827         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> out;
01828         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;
01829         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7] = 0;
01830         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = 0;
01831         out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14] = 0;out.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
01832         <span class="keywordflow">return</span> out;
01833     }
01834 
01835 <span class="comment">/*!***************************************************************************</span>
01836 <span class="comment"> @Function          RotationX</span>
01837 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01838 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01839 <span class="comment">                    degrees about the X axis</span>
01840 <span class="comment">*****************************************************************************/</span>
01841     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e1">RotationX</a>(VERTTYPE angle);
01842 <span class="comment">/*!***************************************************************************</span>
01843 <span class="comment"> @Function          RotationY</span>
01844 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01845 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01846 <span class="comment">                    degrees about the Y axis</span>
01847 <span class="comment">*****************************************************************************/</span>
01848     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e2">RotationY</a>(VERTTYPE angle);
01849 <span class="comment">/*!***************************************************************************</span>
01850 <span class="comment"> @Function          RotationZ</span>
01851 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested rotation</span>
01852 <span class="comment"> @Description       Calculates a matrix corresponding to a rotation of angle</span>
01853 <span class="comment">                    degrees about the Z axis</span>
01854 <span class="comment">*****************************************************************************/</span>
01855     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e3">RotationZ</a>(VERTTYPE angle);
01856 
01857 <span class="comment">/*!***************************************************************************</span>
01858 <span class="comment"> @Function          Scale</span>
01859 <span class="comment"> @Returns           a PVRTMat3 corresponding to the requested scaling transformation</span>
01860 <span class="comment"> @Description       Calculates a matrix corresponding to scaling of fx, fy and fz</span>
<a name="l01861"></a><a class="code" href="structPVRTMat4.html#a18">01861</a> <span class="comment">                    times in each axis.</span>
01862 <span class="comment">*****************************************************************************/</span>
01863     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e4">Scale</a>(<span class="keyword">const</span> VERTTYPE fx,<span class="keyword">const</span> VERTTYPE fy,<span class="keyword">const</span> VERTTYPE fz)
01864     {
01865         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(fx,0,0,0,
01866             0,fy,0,0,
01867             0,0,fz,0,
01868             0,0,0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01869     }
01870 
01871 <span class="comment">/*!***************************************************************************</span>
01872 <span class="comment"> @Function          Translation</span>
01873 <span class="comment"> @Returns           a PVRTMat4 corresponding to the requested translation</span>
01874 <span class="comment"> @Description       Calculates a 4x4 matrix corresponding to a transformation</span>
01875 <span class="comment">                    of tx, ty and tz distance in each axis.</span>
01876 <span class="comment">*****************************************************************************/</span>
01877     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e5">Translation</a>(<span class="keyword">const</span> VERTTYPE tx, <span class="keyword">const</span> VERTTYPE ty, <span class="keyword">const</span> VERTTYPE tz)
01878     {
01879         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#a0">PVRTMat4</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,0,0,
<a name="l01880"></a><a class="code" href="structPVRTMat4.html#a19">01880</a>             0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,0,
01881             0,0,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),0,
01882             tx,ty,tz,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1));
01883     }
01884 
01885 <span class="comment">/*!***************************************************************************</span>
01886 <span class="comment">** Clipspace enum</span>
01887 <span class="comment">** Determines whether clip space Z ranges from -1 to 1 (OGL) or from 0 to 1 (D3D)</span>
01888 <span class="comment">*****************************************************************************/</span>
01889     <span class="keyword">enum</span> eClipspace { OGL, D3D };
01890 
01891 <span class="comment">/*!***************************************************************************</span>
01892 <span class="comment"> @Function          Ortho</span>
01893 <span class="comment"> @Input             left view plane</span>
01894 <span class="comment"> @Input             top view plane</span>
01895 <span class="comment"> @Input             right view plane</span>
01896 <span class="comment"> @Input             bottom view plane</span>
01897 <span class="comment"> @Input             nearPlane the near rendering plane</span>
<a name="l01898"></a><a class="code" href="structPVRTMat4.html#a20">01898</a> <span class="comment"> @Input             farPlane the far rendering plane</span>
01899 <span class="comment"> @Input             cs which clipspace convention is being used</span>
01900 <span class="comment"> @Input             bRotate is the viewport in portrait or landscape mode</span>
01901 <span class="comment"> @Returns           Returns the orthogonal projection matrix defined by the passed parameters</span>
01902 <span class="comment"> @Description       Translates the matrix from the passed parameters</span>
01903 <span class="comment">*****************************************************************************/</span>
01904     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e6">Ortho</a>(VERTTYPE left, VERTTYPE top, VERTTYPE right,
01905         VERTTYPE bottom, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01906     {
01907         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> rcplmr = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>(1),(left - right));
01908         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> rcpbmt = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>(1),(bottom - top));
01909         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>(1),(nearPlane - farPlane));
01910 
01911         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
<a name="l01912"></a><a class="code" href="structPVRTMat4.html#a21">01912</a> 
01913         <span class="keywordflow">if</span> (bRotate)
01914         {
01915             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-(right+left),rcplmr);
01916             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01917         }
01918         <span class="keywordflow">else</span>
01919         {
01920             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcplmr); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(right+left,rcplmr);
01921             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=0;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpbmt); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>((top+bottom),rcpbmt);
01922         }
01923         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
01924         {
01925             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=-rcpnmf;   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(nearPlane,rcpnmf);
01926         }
01927         <span class="keywordflow">else</span>
01928         {
01929             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(-2,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(nearPlane + farPlane,rcpnmf);
01930         }
<a name="l01931"></a><a class="code" href="structPVRTMat4.html#a22">01931</a>         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=1;
01932 
01933         <span class="keywordflow">return</span> result;
01934     }
01935 
01936 
01937 <span class="comment">/*!***************************************************************************</span>
01938 <span class="comment"> @Function          LookAtRH</span>
01939 <span class="comment"> @Input             vEye position of 'camera'</span>
01940 <span class="comment"> @Input             vAt target that camera points at</span>
<a name="l01941"></a><a class="code" href="structPVRTMat4.html#a23">01941</a> <span class="comment"> @Input             vUp up vector for camera</span>
01942 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
01943 <span class="comment"> @Description       Create a look-at view matrix for a right hand coordinate</span>
01944 <span class="comment">                    system</span>
01945 <span class="comment">*****************************************************************************/</span>
01946     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e7">LookAtRH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
01947         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(vEye, vAt, vUp, <span class="keyword">true</span>); }
01948 <span class="comment">/*!***************************************************************************</span>
01949 <span class="comment"> @Function          LookAtLH</span>
01950 <span class="comment"> @Input             vEye position of 'camera'</span>
01951 <span class="comment"> @Input             vAt target that camera points at</span>
<a name="l01952"></a><a class="code" href="structPVRTMat4.html#e0">01952</a> <span class="comment"> @Input             vUp up vector for camera</span>
01953 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
01954 <span class="comment"> @Description       Create a look-at view matrix for a left hand coordinate</span>
01955 <span class="comment">                    system</span>
01956 <span class="comment">*****************************************************************************/</span>
01957     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e8">LookAtLH</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp)
01958         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(vEye, vAt, vUp, <span class="keyword">false</span>); }
01959 
01960 <span class="comment">/*!***************************************************************************</span>
01961 <span class="comment"> @Function      PerspectiveRH</span>
01962 <span class="comment"> @Input         width       width of viewplane</span>
01963 <span class="comment"> @Input         height      height of viewplane</span>
01964 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01965 <span class="comment"> @Input         farPlane    far clipping distance</span>
01966 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01967 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01968 <span class="comment"> @Returns       Perspective matrix</span>
01969 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
01970 <span class="comment">                system</span>
01971 <span class="comment">*****************************************************************************/</span>
01972     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e9">PerspectiveRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane,
01973         VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01974         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
01975 
01976 <span class="comment">/*!***************************************************************************</span>
01977 <span class="comment"> @Function      PerspectiveLH</span>
01978 <span class="comment"> @Input         width       width of viewplane</span>
01979 <span class="comment"> @Input         height      height of viewplane</span>
01980 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01981 <span class="comment"> @Input         farPlane    far clipping distance</span>
01982 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01983 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01984 <span class="comment"> @Returns       Perspective matrix</span>
01985 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
01986 <span class="comment">                system</span>
01987 <span class="comment">*****************************************************************************/</span>
01988     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e10">PerspectiveLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
01989         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(width, height, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
01990 
01991 <span class="comment">/*!***************************************************************************</span>
01992 <span class="comment"> @Function      PerspectiveFloatDepthRH</span>
01993 <span class="comment"> @Input         width       width of viewplane</span>
<a name="l01994"></a><a class="code" href="structPVRTMat4.html#e4">01994</a> <span class="comment"> @Input         height      height of viewplane</span>
01995 <span class="comment"> @Input         nearPlane   near clipping distance</span>
01996 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
01997 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
01998 <span class="comment"> @Returns       Perspective matrix</span>
01999 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02000 <span class="comment">                system</span>
02001 <span class="comment">*****************************************************************************/</span>
02002     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e11">PerspectiveFloatDepthRH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02003         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02004 
02005 <span class="comment">/*!***************************************************************************</span>
02006 <span class="comment"> @Function      PerspectiveFloatDepthLH</span>
02007 <span class="comment"> @Input         width       width of viewplane</span>
02008 <span class="comment"> @Input         height      height of viewplane</span>
<a name="l02009"></a><a class="code" href="structPVRTMat4.html#e5">02009</a> <span class="comment"> @Input         nearPlane   near clipping distance</span>
02010 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02011 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02012 <span class="comment"> @Returns       Perspective matrix</span>
02013 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02014 <span class="comment">                system</span>
02015 <span class="comment">*****************************************************************************/</span>
02016     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e12">PerspectiveFloatDepthLH</a>(VERTTYPE width, VERTTYPE height, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02017         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(width, height, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02018 
02019 <span class="comment">/*!***************************************************************************</span>
02020 <span class="comment"> @Function      PerspectiveFovRH</span>
<a name="l02021"></a><a class="code" href="structPVRTMat4.html#w2">02021</a> <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02022 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02023 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02024 <span class="comment"> @Input         farPlane    far clipping distance</span>
02025 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02026 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02027 <span class="comment"> @Returns       Perspective matrix</span>
02028 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02029 <span class="comment">                system</span>
02030 <span class="comment">*****************************************************************************/</span>
02031     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e13">PerspectiveFovRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02032         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">true</span>, bRotate); }
02033 <span class="comment">/*!***************************************************************************</span>
02034 <span class="comment"> @Function      PerspectiveFovLH</span>
02035 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02036 <span class="comment"> @Input         aspect      aspect ratio of view</span>
<a name="l02037"></a><a class="code" href="structPVRTMat4.html#e6">02037</a> <span class="comment"> @Input         nearPlane   near clipping distance</span>
02038 <span class="comment"> @Input         farPlane    far clipping distance</span>
02039 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02040 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02041 <span class="comment"> @Returns       Perspective matrix</span>
02042 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02043 <span class="comment">                system</span>
02044 <span class="comment">*****************************************************************************/</span>
02045     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e14">PerspectiveFovLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, VERTTYPE farPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02046         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(fovy, aspect, nearPlane, farPlane, cs, <span class="keyword">false</span>, bRotate); }
02047 
02048 <span class="comment">/*!***************************************************************************</span>
02049 <span class="comment"> @Function      PerspectiveFovRH</span>
02050 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02051 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02052 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02053 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02054 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02055 <span class="comment"> @Returns       Perspective matrix</span>
02056 <span class="comment"> @Description   Create a perspective matrix for a right hand coordinate</span>
02057 <span class="comment">                system</span>
02058 <span class="comment">*****************************************************************************/</span>
02059     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e15">PerspectiveFovFloatDepthRH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02060         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">true</span>, bRotate); }
02061 <span class="comment">/*!***************************************************************************</span>
02062 <span class="comment"> @Function      PerspectiveFovLH</span>
02063 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02064 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02065 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02066 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02067 <span class="comment"> @Input         bRotate is the viewport in portrait or landscape mode</span>
02068 <span class="comment"> @Returns       Perspective matrix</span>
02069 <span class="comment"> @Description   Create a perspective matrix for a left hand coordinate</span>
02070 <span class="comment">                system</span>
02071 <span class="comment">*****************************************************************************/</span>
02072     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e16">PerspectiveFovFloatDepthLH</a>(VERTTYPE fovy, VERTTYPE aspect, VERTTYPE nearPlane, <span class="keyword">const</span> eClipspace cs, <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02073         { <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(fovy, aspect, nearPlane, cs, <span class="keyword">false</span>, bRotate); }
02074 
02075 <span class="comment">/*!***************************************************************************</span>
02076 <span class="comment"> @Function          LookAt</span>
02077 <span class="comment"> @Input             vEye position of 'camera'</span>
02078 <span class="comment"> @Input             vAt target that camera points at</span>
02079 <span class="comment"> @Input             vUp up vector for camera</span>
<a name="l02080"></a><a class="code" href="structPVRTMat4.html#e7">02080</a> <span class="comment"> @Input             bRightHanded handedness of coordinate system</span>
02081 <span class="comment"> @Returns           Returns the view matrix defined by the passed parameters</span>
02082 <span class="comment"> @Description       Create a look-at view matrix</span>
02083 <span class="comment">*****************************************************************************/</span>
02084     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e17">LookAt</a>(<span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vEye, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vAt, <span class="keyword">const</span> <a class="code" href="structPVRTVec3.html">PVRTVec3</a>&amp; vUp, <span class="keywordtype">bool</span> bRightHanded)
02085     {
02086         <a class="code" href="structPVRTVec3.html">PVRTVec3</a> vForward, vUpNorm, vSide;
02087         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02088 
02089         vForward = (bRightHanded) ? vEye - vAt : vAt - vEye;
02090 
02091         vForward.<a class="code" href="structPVRTVec3.html#a18">normalize</a>();
<a name="l02092"></a><a class="code" href="structPVRTMat4.html#e8">02092</a>         vUpNorm = vUp.<a class="code" href="structPVRTVec3.html#a19">normalized</a>();
02093         vSide   = vUpNorm.<a class="code" href="structPVRTVec3.html#a21">cross</a>( vForward);
02094         vUpNorm = vForward.<a class="code" href="structPVRTVec3.html#a21">cross</a>(vSide);
02095 
02096         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=vSide.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;        result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02097         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=vUpNorm.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;      result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02098         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o0">x</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o1">y</a>; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=vForward.<a class="code" href="structPVRTVECTOR3f.html#o2">z</a>;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=0;
02099         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;          result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=0;             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
02100 
02101         <span class="comment">// TODO</span>
02102         result.<a class="code" href="structPVRTMat4.html#a19">postTranslate</a>(-vEye);
02103         <span class="keywordflow">return</span> result;
02104     }
02105 
02106 <span class="comment">/*!***************************************************************************</span>
02107 <span class="comment"> @Function      Perspective</span>
<a name="l02108"></a><a class="code" href="structPVRTMat4.html#e9">02108</a> <span class="comment"> @Input         width       width of viewplane</span>
02109 <span class="comment"> @Input         height      height of viewplane</span>
02110 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02111 <span class="comment"> @Input         farPlane    far clipping distance</span>
02112 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02113 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02114 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02115 <span class="comment"> @Returns       Perspective matrix</span>
02116 <span class="comment"> @Description   Create a perspective matrix</span>
02117 <span class="comment">*****************************************************************************/</span>
02118     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(
02119         VERTTYPE width, VERTTYPE height,
02120         VERTTYPE nearPlane, VERTTYPE farPlane,
02121         <span class="keyword">const</span> eClipspace cs,
02122         <span class="keywordtype">bool</span> bRightHanded,
02123         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02124     {
<a name="l02125"></a><a class="code" href="structPVRTMat4.html#e10">02125</a>         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(2),nearPlane);
02126         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> rcpnmf = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1),(nearPlane - farPlane));
02127 
02128         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02129         <span class="keywordflow">if</span> (bRotate)
02130         {
02131             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02132             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02133         }
02134         <span class="keywordflow">else</span>
02135         {
02136             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02137             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02138         }
02139         <span class="keywordflow">if</span> (cs == <a class="code" href="structPVRTMat4.html#w2w1">D3D</a>)
<a name="l02140"></a><a class="code" href="structPVRTMat4.html#e11">02140</a>         {
02141             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf),nearPlane);
02142         }
02143         <span class="keywordflow">else</span>
02144         {
02145             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane+nearPlane,rcpnmf);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(farPlane,rcpnmf),n2);
02146         }
02147         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]=<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=0;
02148 
02149         <span class="keywordflow">if</span> (!bRightHanded)
02150         {
02151             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10] = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10], <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(-1));
02152             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11] = <a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(1);
02153         }
02154 
<a name="l02155"></a><a class="code" href="structPVRTMat4.html#e12">02155</a>         <span class="keywordflow">return</span> result;
02156     }
02157 
02158 <span class="comment">/*!***************************************************************************</span>
02159 <span class="comment"> @Function      Perspective</span>
02160 <span class="comment"> @Input         width       width of viewplane</span>
02161 <span class="comment"> @Input         height      height of viewplane</span>
02162 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02163 <span class="comment"> @Input         cs          which clipspace convention is being used</span>
02164 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02165 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02166 <span class="comment"> @Returns       Perspective matrix</span>
02167 <span class="comment"> @Description   perspective calculation where far plane is assumed to be at an infinite distance and the screen</span>
02168 <span class="comment">                space Z is inverted</span>
02169 <span class="comment">*****************************************************************************/</span>
02170     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(
<a name="l02171"></a><a class="code" href="structPVRTMat4.html#e13">02171</a>         VERTTYPE width, VERTTYPE height,
02172         VERTTYPE nearPlane,
02173         <span class="keyword">const</span> eClipspace cs,
02174         <span class="keywordtype">bool</span> bRightHanded,
02175         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02176     {
02177         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> n2 = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,nearPlane);
02178 
02179         <a class="code" href="structPVRTMat4.html">PVRTMat4</a> result;
02180         <span class="keywordflow">if</span> (bRotate)
02181         {
02182             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(-n2,width); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02183             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02184         }
02185         <span class="keywordflow">else</span>
<a name="l02186"></a><a class="code" href="structPVRTMat4.html#e14">02186</a>         {
02187             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[0] = <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,width);    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[4]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[8]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[12]=0;
02188             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[1] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[5]=<a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(n2,height); result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[9]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[13]=0;
02189         }
02190         <span class="keywordflow">if</span> (cs == D3D)
02191         {
02192             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=0; result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=nearPlane;
02193         }
02194         <span class="keywordflow">else</span>
02195         {
02196             result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[2] = 0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[6]=0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[10]=(bRightHanded?(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)1:(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)-1);   result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[14]=n2;
02197         }
02198         result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[3] = (<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)0;  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[7]=(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)0;    result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[11]= (bRightHanded?(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)-1:(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)1);  result.<a class="code" href="classPVRTMATRIXf.html#o0">f</a>[15]=(<a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a>)0;
02199 
02200         <span class="keywordflow">return</span> result;
<a name="l02201"></a><a class="code" href="structPVRTMat4.html#e15">02201</a>     }
02202 
02203 <span class="comment">/*!***************************************************************************</span>
02204 <span class="comment"> @Function      Perspective</span>
02205 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02206 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02207 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02208 <span class="comment"> @Input         farPlane    far clipping distance</span>
02209 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02210 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02211 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02212 <span class="comment"> @Returns       Perspective matrix</span>
02213 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02214 <span class="comment">*****************************************************************************/</span>
<a name="l02215"></a><a class="code" href="structPVRTMat4.html#e16">02215</a>     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e20">PerspectiveFov</a>(
02216         VERTTYPE fovy, VERTTYPE aspect,
02217         VERTTYPE nearPlane, VERTTYPE farPlane,
02218         <span class="keyword">const</span> eClipspace cs,
02219         <span class="keywordtype">bool</span> bRightHanded,
02220         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02221     {
02222         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(2.0f),nearPlane),<a class="code" href="PVRTFixedPoint_8h.html#a34">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(fovy,<a class="code" href="PVRTFixedPoint_8h.html#a26">f2vt</a>(0.5f))));
02223         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(height,aspect), nearPlane, farPlane, cs, bRightHanded, bRotate);
02224         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e18">Perspective</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(height,aspect), height, nearPlane, farPlane, cs, bRightHanded, bRotate);
02225     }
02226 
02227 <span class="comment">/*!***************************************************************************</span>
<a name="l02228"></a><a class="code" href="structPVRTMat4.html#e17">02228</a> <span class="comment"> @Function      Perspective</span>
02229 <span class="comment"> @Input         fovy        angle of view (vertical)</span>
02230 <span class="comment"> @Input         aspect      aspect ratio of view</span>
02231 <span class="comment"> @Input         nearPlane   near clipping distance</span>
02232 <span class="comment"> @Input         cs          cs which clipspace convention is being used</span>
02233 <span class="comment"> @Input         bRightHanded    handedness of coordinate system</span>
02234 <span class="comment"> @Input         bRotate     is the viewport in portrait or landscape mode</span>
02235 <span class="comment"> @Returns       Perspective matrix</span>
02236 <span class="comment"> @Description   perspective calculation where field of view is used instead of near plane dimensions</span>
02237 <span class="comment">                and far plane is assumed to be at an infinite distance with inverted Z range</span>
02238 <span class="comment">*****************************************************************************/</span>
02239     <span class="keyword">static</span> <a class="code" href="structPVRTMat4.html">PVRTMat4</a> <a class="code" href="structPVRTMat4.html#e21">PerspectiveFovFloatDepth</a>(
02240         VERTTYPE fovy, VERTTYPE aspect,
02241         VERTTYPE nearPlane,
02242         <span class="keyword">const</span> eClipspace cs,
02243         <span class="keywordtype">bool</span> bRightHanded,
02244         <span class="keywordtype">bool</span> bRotate = <span class="keyword">false</span>)
02245     {
02246         <a class="code" href="PVRTFixedPointAPI_8h.html#a0">VERTTYPE</a> height = <a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(2,nearPlane), <a class="code" href="PVRTFixedPoint_8h.html#a34">PVRTTAN</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(fovy,0.5)));
02247         <span class="keywordflow">if</span> (bRotate) <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(height, <a class="code" href="PVRTFixedPoint_8h.html#a24">VERTTYPEDIV</a>(height,aspect), nearPlane, cs, bRightHanded, bRotate);
02248         <span class="keywordflow">return</span> <a class="code" href="structPVRTMat4.html#e19">PerspectiveFloatDepth</a>(<a class="code" href="PVRTFixedPoint_8h.html#a23">VERTTYPEMUL</a>(height,aspect), height, nearPlane, cs, bRightHanded, bRotate);
02249     }
02250 };
02251 
02252 <span class="preprocessor">#endif </span><span class="comment">/*__PVRTVECTOR_H__*/</span>
02253 
02254 <span class="comment">/*****************************************************************************</span>
02255 <span class="comment">End of file (PVRTVector.h)</span>
02256 <span class="comment">*****************************************************************************/</span>
</pre></div><br>
<br>
<P align=left><FONT size=2><STRONG><A 
   href="http://www.imgtec.com/powervr/insider/legal/index.asp">Copyright</A> © 
   1999-2008, Imagination Technologies Ltd.</STRONG></FONT></P>
<hr>
<address style="align: left;"><small><FONT color=f0f>
Generated by <a href="http://www.doxygen.org/index.html">DOXYGEN</a> 1.3.6</small></address>
</body>
</html>
